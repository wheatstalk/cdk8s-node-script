apiVersion: v1
kind: ConfigMap
data:
  index.js: |
    "use strict";var Jn=Object.create;var hr=Object.defineProperty;var Kn=Object.getOwnPropertyDescriptor;var Qn=Object.getOwnPropertyNames;var Yn=Object.getPrototypeOf,Xn=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Zn=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qn(e))!Xn.call(t,n)&&n!==r&&hr(t,n,{get:()=>e[n],enumerable:!(s=Kn(e,n))||s.enumerable});return t};var L=(t,e,r)=>(r=t!=null?Jn(Yn(t)):{},Zn(e||!t||!t.__esModule?hr(r,"default",{value:t,enumerable:!0}):r,t));var lr=E((ct,ht)=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});function li(t){return t.encrypted}var at=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let s=typeof r.connect=="function",n=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{s&&r.connect(),li(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),i&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&i&&r.close(t._hadError)};ct.default=at;ht.exports=at;ht.exports.default=at});var wr=E((Cc,_r)=>{"use strict";var mi="text/plain",yi="us-ascii",br=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),gi=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:s,data:n,hash:i}=r.groups,o=s.split(";");i=e?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let u=(o.shift()||"").toLowerCase(),y=[...o.map(_=>{let[b,g=""]=_.split("=").map(S=>S.trim());return b==="charset"&&(g=g.toLowerCase(),g===yi)?"":`${b}${g?`=${g}`:""}`}).filter(Boolean)];return a&&y.push("base64"),(y.length!==0||u&&u!==mi)&&y.unshift(u),`data:${y.join(";")},${a?n.trim():n}${i?`#${i}`:""}`},bi=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return gi(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];br(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])br(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};_r.exports=bi});var Sr=E((Oc,xr)=>{xr.exports=Er;function Er(t,e){if(t&&e)return Er(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){r[s]=t[s]}),r;function r(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];var i=t.apply(this,s),o=s[s.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var ft=E((Pc,ut)=>{var Tr=Sr();ut.exports=Tr(je);ut.exports.strict=Tr(Cr);je.proto=je(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return je(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Cr(this)},configurable:!0})});function je(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Cr(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Rr=E((Rc,Pr)=>{var _i=ft(),wi=function(){},Ei=function(t){return t.setHeader&&typeof t.abort=="function"},xi=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Or=function(t,e,r){if(typeof e=="function")return Or(t,null,e);e||(e={}),r=_i(r||wi);var s=t._writableState,n=t._readableState,i=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||f()},f=function(){o=!1,i||r.call(t)},y=function(){i=!1,o||r.call(t)},_=function(m){r.call(t,m?new Error("exited with error code: "+m):null)},b=function(m){r.call(t,m)},g=function(){process.nextTick(S)},S=function(){if(!a){if(i&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(s&&s.ended&&!s.destroyed))return r.call(t,new Error("premature close"))}},d=function(){t.req.on("finish",f)};return Ei(t)?(t.on("complete",f),t.on("abort",g),t.req?d():t.on("request",d)):o&&!s&&(t.on("end",u),t.on("close",u)),xi(t)&&t.on("exit",_),t.on("end",y),t.on("finish",f),e.error!==!1&&t.on("error",b),t.on("close",g),function(){a=!0,t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",d),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("exit",_),t.removeListener("end",y),t.removeListener("error",b),t.removeListener("close",g)}};Pr.exports=Or});var qr=E((kc,Ar)=>{var Si=ft(),Ti=Rr(),dt=require("fs"),ae=function(){},Ci=/^v?\.0/.test(process.version),He=function(t){return typeof t=="function"},Oi=function(t){return!Ci||!dt?!1:(t instanceof(dt.ReadStream||ae)||t instanceof(dt.WriteStream||ae))&&He(t.close)},Pi=function(t){return t.setHeader&&He(t.abort)},Ri=function(t,e,r,s){s=Si(s);var n=!1;t.on("close",function(){n=!0}),Ti(t,{readable:e,writable:r},function(o){if(o)return s(o);n=!0,s()});var i=!1;return function(o){if(!n&&!i){if(i=!0,Oi(t))return t.close(ae);if(Pi(t))return t.abort();if(He(t.destroy))return t.destroy();s(o||new Error("stream was destroyed"))}}},kr=function(t){t()},ki=function(t,e){return t.pipe(e)},Ai=function(){var t=Array.prototype.slice.call(arguments),e=He(t[t.length-1]||ae)&&t.pop()||ae;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,s=t.map(function(n,i){var o=i<t.length-1,a=i>0;return Ri(n,o,a,function(u){r||(r=u),u&&s.forEach(kr),!o&&(s.forEach(kr),e(r))})});return t.reduce(ki)};Ar.exports=Ai});var Hr=E((Ac,jr)=>{"use strict";var{PassThrough:qi}=require("stream");jr.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new qi({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var Lr=E((qc,X)=>{"use strict";var{constants:ji}=require("buffer"),Hi=qr(),Li=Hr(),Le=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ie(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s;return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=ji.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};s=Hi(t,Li(e),a=>{if(a){o(a);return}n()}),s.on("data",()=>{s.getBufferedLength()>r&&o(new Le)})}),s.getBufferedValue()}X.exports=Ie;X.exports.default=Ie;X.exports.buffer=(t,e)=>Ie(t,{...e,encoding:"buffer"});X.exports.array=(t,e)=>Ie(t,{...e,array:!0});X.exports.MaxBufferError=Le});var vr=E((Hc,Ir)=>{"use strict";var Ii=new Set([200,203,204,206,300,301,404,405,410,414,501]),vi=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Ni=new Set([500,502,503,504]),Di={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},zi={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function V(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Ui(t){return t?Ni.has(t.status):!0}function lt(t){let e={};if(!t)return e;let r=t.trim().split(/\s*,\s*/);for(let s of r){let[n,i]=s.split(/\s*=\s*/,2);e[n]=i===void 0?!0:i.replace(/^"|"$/g,"")}return e}function Bi(t){let e=[];for(let r in t){let s=t[r];e.push(s===!0?r:r+"="+s)}if(!!e.length)return e.join(", ")}Ir.exports=class{constructor(e,r,{shared:s,cacheHeuristic:n,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=s!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=lt(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=lt(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Bi(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&vi.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Ii.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=lt(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let s of r)if(e.headers[s]!==this._reqHeaders[s])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let s in e)Di[s]||(r[s]=e[s]);if(e.connection){let s=e.connection.trim().split(/\s*,\s*/);for(let n of s)delete r[n]}if(r.warning){let s=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));s.length?r.warning=s.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return V(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return V(this._rescc["s-maxage"])}if(this._rescc["max-age"])return V(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let s=Date.parse(this._resHeaders.expires);return Number.isNaN(s)||s<r?0:Math.max(e,(s-r)/1e3)}if(this._resHeaders["last-modified"]){let s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&r>s)return Math.max(e,(r-s)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+V(this._rescc["stale-if-error"]),s=e+V(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,s)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+V(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+V(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Ui(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let s=!1;if(r.status!==void 0&&r.status!=304?s=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?s=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?s=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(s=!0),!s)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!zi[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var pt=E((Lc,Nr)=>{"use strict";Nr.exports=t=>{let e={};for(let[r,s]of Object.entries(t))e[r.toLowerCase()]=s;return e}});var zr=E((Ic,Dr)=>{"use strict";var $i=require("stream").Readable,Fi=pt(),mt=class extends $i{constructor(e,r,s,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(s instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Fi(r),this.body=s,this.url=n}_read(){this.push(this.body),this.push(null)}};Dr.exports=mt});var Br=E((vc,Ur)=>{"use strict";var Mi=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];Ur.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(Mi));for(let s of r)s in e||(e[s]=typeof t[s]=="function"?t[s].bind(t):t[s])}});var Fr=E((Nc,$r)=>{"use strict";var Vi=require("stream").PassThrough,Wi=Br(),Gi=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Vi;return Wi(t,e),t.pipe(e)};$r.exports=Gi});var gt=E(yt=>{yt.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",s=Array.isArray(e);r=s?"[":"{";var n=!0;for(var i in e){var o=typeof e[i]=="function"||!s&&typeof e[i]>"u";Object.hasOwnProperty.call(e,i)&&!o&&(n||(r+=","),n=!1,s?e[i]==null?r+="null":r+=t(e[i]):e[i]!==void 0&&(r+=t(i)+":"+t(e[i])))}return r+=s?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};yt.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Vr=E((zc,Mr)=>{"use strict";Mr.exports=(t={},e={})=>{let r={...t.params||{},...e.params||{}};return{...t,...e,...Object.keys(r).length?{params:r}:{}}}});var Qr=E((Uc,Ne)=>{"use strict";var{promisify:Jr}=require("util"),ve=gt(),Kr=require("zlib"),Wr=Vr(),Ji=Jr(Kr.brotliCompress),Ki=Jr(Kr.brotliDecompress),Gr=t=>t,Qi=({enable:t=!0,serialize:e=ve.stringify,deserialize:r=ve.parse,compressOptions:s,decompressOptions:n}={})=>t?{serialize:e,deserialize:r,compress:async(i,o={})=>{if(i===void 0)return i;let a=e(i);return Ji(a,Wr(s,o))},decompress:async(i,o={})=>i===void 0?i:r(await Ki(i,Wr(n,o)))}:{serialize:e,deserialize:r,decompress:Gr,compress:Gr};Ne.exports=Qi;Ne.exports.stringify=ve.stringify;Ne.exports.parse=ve.parse});var es=E((Bc,Zr)=>{"use strict";var Yi=require("events"),Yr=gt(),Xi=Qr(),Zi=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},Xr=["sqlite","postgres","mysql","mongo","redis","tiered"],bt=class extends Yi{constructor(e,{emitErrors:r=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:Yr.stringify,deserialize:Yr.parse,...typeof e=="string"?{uri:e}:e,...s},!this.opts.store){let i={...this.opts};this.opts.store=Zi(i)}if(this.opts.compress){let i=Xi(this.opts.compress.opts);this.opts.serialize=async({value:o,expires:a})=>i.serialize({value:await i.compress(o),expires:a}),this.opts.deserialize=async o=>{let{value:a,expires:u}=i.deserialize(o);return{value:await i.decompress(a),expires:u}}}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let n=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=n(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=n(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Xr.includes(this.opts.store.opts.dialect)||Xr.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:s}=this.opts,n=Array.isArray(e),i=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&s.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>s.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(o).then(a=>{let u=[];for(let f of a)u.push(f.value);return u.every(f=>f===void 0)?[]:u})}return Promise.resolve().then(()=>n?s.getMany(i):s.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(n){let a=[];if(o.length===0)return[];for(let u of o){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a.every(u=>u===void 0)?[]:a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,s){let n=this._getKeyPrefix(e);typeof s>"u"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof s=="number"?Date.now()+s:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(n,o,s)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let n=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let i=[];for(let o of n)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(n))}let s=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(s))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:s}=this.opts;return Promise.resolve().then(async()=>typeof s.has=="function"?s.has(r):await s.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};Zr.exports=bt});var ss=E(($c,rs)=>{"use strict";var eo=require("events"),De=require("url"),to=wr(),ro=Lr(),_t=vr(),ts=zr(),so=pt(),no=Fr(),io=es(),I=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new io({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,s)=>{let n;if(typeof r=="string")n=wt(De.parse(r)),r={};else if(r instanceof De.URL)n=wt(De.parse(r.toString())),r={};else{let[_,...b]=(r.path||"").split("?"),g=b.length>0?`?${b.join("?")}`:"";n=wt({...r,pathname:_,search:g})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...oo(n)},r.headers=so(r.headers);let i=new eo,o=to(De.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,u=!1,f=!1,y=_=>{f=!0;let b=!1,g,S=new Promise(m=>{g=()=>{b||(b=!0,m())}}),d=m=>{if(u&&!_.forceRefresh){m.status=m.statusCode;let C=_t.fromObject(u.cachePolicy).revalidatedPolicy(_,m);if(!C.modified){let w=C.policy.responseHeaders();m=new ts(u.statusCode,w,u.body,u.url),m.cachePolicy=C.policy,m.fromCache=!0}}m.fromCache||(m.cachePolicy=new _t(_,m,_),m.fromCache=!1);let x;_.cache&&m.cachePolicy.storable()?(x=no(m),(async()=>{try{let C=ro.buffer(m);if(await Promise.race([S,new Promise(v=>m.once("end",v))]),b)return;let w=await C,T={cachePolicy:m.cachePolicy.toObject(),url:m.url,statusCode:m.fromCache?u.statusCode:m.statusCode,body:w},k=_.strictTtl?m.cachePolicy.timeToLive():void 0;_.maxTtl&&(k=k?Math.min(k,_.maxTtl):_.maxTtl),await this.cache.set(a,T,k)}catch(C){i.emit("error",new I.CacheError(C))}})()):_.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(C){i.emit("error",new I.CacheError(C))}})(),i.emit("response",x||m),typeof s=="function"&&s(x||m)};try{let m=e(_,d);m.once("error",g),m.once("abort",g),i.emit("request",m)}catch(m){i.emit("error",new I.RequestError(m))}};return(async()=>{let _=async g=>{await Promise.resolve();let S=g.cache?await this.cache.get(a):void 0;if(typeof S>"u")return y(g);let d=_t.fromObject(S.cachePolicy);if(d.satisfiesWithoutRevalidation(g)&&!g.forceRefresh){let m=d.responseHeaders(),x=new ts(S.statusCode,m,S.body,S.url);x.cachePolicy=d,x.fromCache=!0,i.emit("response",x),typeof s=="function"&&s(x)}else u=S,g.headers=d.revalidationHeaders(g),y(g)},b=g=>i.emit("error",new I.CacheError(g));this.cache.once("error",b),i.on("response",()=>this.cache.removeListener("error",b));try{await _(r)}catch(g){r.automaticFailover&&!f&&y(r),i.emit("error",new I.CacheError(g))}})(),i}}};function oo(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function wt(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}I.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};I.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};rs.exports=I});var is=E((Vc,ns)=>{"use strict";var ao=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];ns.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(ao)),s={};for(let n of r)n in e||(s[n]={get(){let i=t[n];return typeof i=="function"?i.bind(t):i},set(i){t[n]=i},enumerable:!0,configurable:!1});return Object.defineProperties(e,s),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var as=E((Wc,os)=>{"use strict";var{Transform:co,PassThrough:ho}=require("stream"),Et=require("zlib"),uo=is();os.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof Et.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let s=!0,n=new co({transform(a,u,f){s=!1,f(null,a)},flush(a){a()}}),i=new ho({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),o=r?Et.createBrotliDecompress():Et.createUnzip();return o.once("error",a=>{if(s&&!t.readable){i.end();return}i.destroy(a)}),uo(t,i),t.pipe(n).pipe(o).pipe(i),i}});var hs=E((Gc,cs)=>{"use strict";var{PassThrough:fo}=require("stream");cs.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new fo({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var us=E((Jc,ce)=>{"use strict";var{constants:lo}=require("buffer"),po=require("stream"),{promisify:mo}=require("util"),yo=hs(),go=mo(po.pipeline),ze=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function xt(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s=yo(e);return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=lo.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};(async()=>{try{await go(t,s),n()}catch(a){o(a)}})(),s.on("data",()=>{s.getBufferedLength()>r&&o(new ze)})}),s.getBufferedValue()}ce.exports=xt;ce.exports.buffer=(t,e)=>xt(t,{...e,encoding:"buffer"});ce.exports.array=(t,e)=>xt(t,{...e,array:!0});ce.exports.MaxBufferError=ze});var Ps=E((Ph,Ht)=>{"use strict";var{V4MAPPED:xo,ADDRCONFIG:So,ALL:Os,promises:{Resolver:Es},lookup:To}=require("dns"),{promisify:qt}=require("util"),Co=require("os"),ee=Symbol("cacheableLookupCreateConnection"),jt=Symbol("cacheableLookupInstance"),xs=Symbol("expires"),Oo=typeof Os=="number",Ss=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Po=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},Ts=()=>{let t=!1,e=!1;for(let r of Object.values(Co.networkInterfaces()))for(let s of r)if(!s.internal&&(s.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},Ro=t=>Symbol.iterator in t,Ve=t=>t.catch(e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT")return[];throw e}),Cs={ttl:!0},ko={all:!0},Ao={all:!0,family:4},qo={all:!0,family:6},We=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:s=3600,errorTtl:n=.15,resolver:i=new Es,lookup:o=To}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=i,this._dnsLookup=o&&qt(o),this._resolver instanceof Es?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=qt(this._resolver.resolve4.bind(this._resolver)),this._resolve6=qt(this._resolver.resolve6.bind(this._resolver))),this._iface=Ts(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=s,s>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},s*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,s){if(typeof r=="function"?(s=r,r={}):typeof r=="number"&&(r={family:r}),!s)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?s(null,n):s(null,n.address,n.family,n.expires,n.ttl)},s)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let s=await this.query(e);if(r.family===6){let n=s.filter(i=>i.family===6);r.hints&xo&&(Oo&&r.hints&Os||n.length===0)?Po(s):s=n}else r.family===4&&(s=s.filter(n=>n.family===4));if(r.hints&So){let{_iface:n}=this;s=s.filter(i=>i.family===6?n.has6:n.has4)}if(s.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?s:s[0]}async query(e){let r=await this._cache.get(e);if(!r){let s=this._pending[e];if(s)r=await s;else{let n=this.queryAndCache(e);this._pending[e]=n;try{r=await n}finally{delete this._pending[e]}}}return r=r.map(s=>({...s})),r}async _resolve(e){let[r,s]=await Promise.all([Ve(this._resolve4(e,Cs)),Ve(this._resolve6(e,Cs))]),n=0,i=0,o=0,a=Date.now();for(let u of r)u.family=4,u.expires=a+u.ttl*1e3,n=Math.max(n,u.ttl);for(let u of s)u.family=6,u.expires=a+u.ttl*1e3,i=Math.max(i,u.ttl);return r.length>0?s.length>0?o=Math.min(n,i):o=n:o=i,{entries:[...r,...s],cacheTtl:o}}async _lookup(e){try{let[r,s]=await Promise.all([Ve(this._dnsLookup(e,Ao)),Ve(this._dnsLookup(e,qo))]);return{entries:[...r,...s],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,s){if(this.maxTtl>0&&s>0){s=Math.min(s,this.maxTtl)*1e3,r[xs]=Date.now()+s;try{await this._cache.set(e,r,s)}catch(n){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=n,i}}Ro(this._cache)&&this._tick(s)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,ko);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let s=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,s),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let s=1/0,n=Date.now();for(let[i,o]of this._cache){let a=o[xs];n>=a?this._cache.delete(i):a<s&&(s=a)}s!==1/0&&this._tick(s-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Ss(e),ee in e)throw new Error("CacheableLookup has been already installed");e[ee]=e.createConnection,e[jt]=this,e.createConnection=(r,s)=>("lookup"in r||(r.lookup=this.lookup),e[ee](r,s))}uninstall(e){if(Ss(e),e[ee]){if(e[jt]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[ee],delete e[ee],delete e[jt]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Ts(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};Ht.exports=We;Ht.exports.default=We});var It=E((Rh,Rs)=>{"use strict";var Lt=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[s,n]of this.oldCache.entries())this.onEviction(s,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};Rs.exports=Lt});var vt=E((kh,ks)=>{"use strict";ks.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...r)=>{let s=r.pop();t.__destroy(...r,async n=>{await Promise.resolve(),s(n)})};let e=r=>{Promise.resolve().then(()=>{t.emit("error",r)})};return t.once("error",e),Promise.resolve().then(()=>{t.off("error",e)}),t}});var J=E((Ah,Is)=>{"use strict";var{URL:As}=require("url"),jo=require("events"),Ho=require("tls"),Lo=require("http2"),Io=It(),vo=vt(),j=Symbol("currentStreamCount"),qs=Symbol("request"),H=Symbol("cachedOriginSet"),$=Symbol("gracefullyClosing"),Ge=Symbol("length"),js=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],No=(t,e,r)=>{let s=0,n=t.length;for(;s<n;){let i=s+n>>>1;r(t[i],e)?s=i+1:n=i}return s},Do=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,Nt=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];s[H].length>0&&s[H].length<e[H].length&&s[H].every(n=>e[H].includes(n))&&s[j]+e[j]<=e.remoteSettings.maxConcurrentStreams&&Ls(s)}},Hs=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];if(e[H].length>0&&e[H].length<s[H].length&&e[H].every(n=>s[H].includes(n))&&e[j]+s[j]<=s.remoteSettings.maxConcurrentStreams)return Ls(e),!0}return!1},Ls=t=>{t[$]=!0,t[j]===0&&t.close()},F=class extends jo{constructor({timeout:e=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:s=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxEmptySessions=s,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new Io({maxSize:n})}get protocol(){return"https:"}normalizeOptions(e){let r="";for(let s=0;s<js.length;s++){let n=js[s];r+=":",e&&e[n]!==void 0&&(r+=e[n])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let e in this.queue)for(let r in this.queue[e]){let s=this.queue[e][r];s.completed||(s.completed=!0,s())}}_isBetterSession(e,r){return e>r}_accept(e,r,s,n){let i=0;for(;i<r.length&&e[j]<e.remoteSettings.maxConcurrentStreams;)r[i].resolve(e),i++;r.splice(0,i),r.length>0&&(this.getSession(s,n,r),r.length=0)}getSession(e,r,s){return new Promise((n,i)=>{Array.isArray(s)&&s.length>0?(s=[...s],n()):s=[{resolve:n,reject:i}];try{if(typeof e=="string")e=new As(e);else if(!(e instanceof As))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:y}=r,{hostname:_}=e;if(y&&_!==y)throw new Error(`Origin ${_} differs from servername ${y}`)}}catch(y){for(let _=0;_<s.length;_++)s[_].reject(y);return}let o=this.normalizeOptions(r),a=e.origin;if(o in this.sessions){let y=this.sessions[o],_=-1,b=-1,g;for(let S=0;S<y.length;S++){let d=y[S],m=d.remoteSettings.maxConcurrentStreams;if(m<_)break;if(!d[H].includes(a))continue;let x=d[j];x>=m||d[$]||d.destroyed||(g||(_=m),this._isBetterSession(x,b)&&(g=d,b=x))}if(g){this._accept(g,s,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...s);return}}else this.queue[o]={[Ge]:0};let u=()=>{o in this.queue&&this.queue[o][a]===f&&(delete this.queue[o][a],--this.queue[o][Ge]===0&&delete this.queue[o])},f=async()=>{this._sessionCount++;let y=`${a}:${o}`,_=!1,b;try{let g={...r};g.settings===void 0&&(g.settings=this.settings),g.session===void 0&&(g.session=this.tlsSessionCache.get(y)),b=await(g.createConnection||this.createConnection).call(this,e,g),g.createConnection=()=>b;let d=Lo.connect(e,g);d[j]=0,d[$]=!1;let m=()=>{let{socket:w}=d,T;return w.servername===!1?(w.servername=w.remoteAddress,T=d.originSet,w.servername=!1):T=d.originSet,T},x=()=>d[j]<d.remoteSettings.maxConcurrentStreams;d.socket.once("session",w=>{this.tlsSessionCache.set(y,w)}),d.once("error",w=>{for(let T=0;T<s.length;T++)s[T].reject(w);this.tlsSessionCache.delete(y)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(this._sessionCount--,_){this._emptySessionCount--;let w=this.sessions[o];w.length===1?delete this.sessions[o]:w.splice(w.indexOf(d),1)}else{u();let w=new Error("Session closed without receiving a SETTINGS frame");w.code="HTTP2WRAPPER_NOSETTINGS";for(let T=0;T<s.length;T++)s[T].reject(w)}this._processQueue()});let C=()=>{let w=this.queue[o];if(!w)return;let T=d[H];for(let k=0;k<T.length;k++){let v=T[k];if(v in w){let{listeners:Q,completed:Gn}=w[v],Pe=0;for(;Pe<Q.length&&x();)Q[Pe].resolve(d),Pe++;if(w[v].listeners.splice(0,Pe),w[v].listeners.length===0&&!Gn&&(delete w[v],--w[Ge]===0)){delete this.queue[o];break}if(!x())break}}};d.on("origin",()=>{d[H]=m()||[],d[$]=!1,Hs(this.sessions[o],d),!(d[$]||!x())&&(C(),x()&&Nt(this.sessions[o],d))}),d.once("remoteSettings",()=>{if(f.destroyed){let w=new Error("Agent has been destroyed");for(let T=0;T<s.length;T++)s[T].reject(w);d.destroy();return}if(d.setLocalWindowSize&&d.setLocalWindowSize(1024*1024*4),d[H]=m()||[],d.socket.encrypted){let w=d[H][0];if(w!==a){let T=new Error(`Requested origin ${a} does not match server ${w}`);for(let k=0;k<s.length;k++)s[k].reject(T);d.destroy();return}}u();{let w=this.sessions;if(o in w){let T=w[o];T.splice(No(T,d,Do),0,d)}else w[o]=[d]}_=!0,this._emptySessionCount++,this.emit("session",d),this._accept(d,s,a,r),d[j]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),d.on("remoteSettings",()=>{!x()||(C(),x()&&Nt(this.sessions[o],d))})}),d[qs]=d.request,d.request=(w,T)=>{if(d[$])throw new Error("The session is gracefully closing. No new streams are allowed.");let k=d[qs](w,T);return d.ref(),d[j]++===0&&this._emptySessionCount--,k.once("close",()=>{if(--d[j]===0&&(this._emptySessionCount++,d.unref(),this._emptySessionCount>this.maxEmptySessions||d[$])){d.close();return}d.destroyed||d.closed||x()&&!Hs(this.sessions[o],d)&&(Nt(this.sessions[o],d),C(),d[j]===0&&this._processQueue())}),k}}catch(g){u(),this._sessionCount--;for(let S=0;S<s.length;S++)s[S].reject(g)}};f.listeners=s,f.completed=!1,f.destroyed=!1,this.queue[o][a]=f,this.queue[o][Ge]++,this._processQueue()})}request(e,r,s,n){return new Promise((i,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{let u=a.request(s,n);vo(u),i(u)}catch(u){o(u)}}}])})}async createConnection(e,r){return F.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let s=e.port||443,n=e.hostname;typeof r.servername>"u"&&(r.servername=n);let i=Ho.connect(s,n,r);return r.socket&&(i._peername={family:void 0,address:void 0,port:s}),i}closeEmptySessions(e=Number.POSITIVE_INFINITY){let r=0,{sessions:s}=this;for(let n in s){let i=s[n];for(let o=0;o<i.length;o++){let a=i[o];if(a[j]===0&&(r++,a.close(),r>=e))return r}}return r}destroy(e){let{sessions:r,queue:s}=this;for(let n in r){let i=r[n];for(let o=0;o<i.length;o++)i[o].destroy(e)}for(let n in s){let i=s[n];for(let o in i)i[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};F.kCurrentStreamCount=j;F.kGracefullyClosing=$;Is.exports={Agent:F,globalAgent:new F}});var zt=E((qh,vs)=>{"use strict";var{Readable:zo}=require("stream"),Dt=class extends zo{constructor(e,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};vs.exports=Dt});var Ds=E((jh,Ns)=>{"use strict";Ns.exports=(t,e,r)=>{for(let s of r)t.on(s,(...n)=>e.emit(s,...n))}});var _e=E((Lh,zs)=>{"use strict";var K=(t,e,r)=>{zs.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n)),this.name=`${super.name} [${e}]`,this.code=e}}};K(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${s?"one of":"of"} type ${r}. Received ${typeof t[2]}`});K(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);K(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);K(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);K(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);K(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`);K(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var Bs=E((Ih,Us)=>{"use strict";Us.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var Ut=E((vh,$s)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:Uo}=_e(),Bo=Bs(),$o=/^[\^`\-\w!#$%&*+.|~]+$/;$s.exports=t=>{if(typeof t!="string"||!$o.test(t)&&!Bo(t))throw new Uo("Header name",t)}});var Bt=E((Nh,Fs)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:Fo,ERR_INVALID_CHAR:Mo}=_e(),Vo=/[^\t\u0020-\u007E\u0080-\u00FF]/;Fs.exports=(t,e)=>{if(typeof e>"u")throw new Fo(e,t);if(Vo.test(e))throw new Mo("header content",t)}});var Ws=E((Dh,Vs)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:Ms}=_e(),Wo={has(t,e){let r=t.session===void 0?t:t.session.socket;return e in t||e in r},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return t[e].bind(t);case"writable":case"destroyed":return t[e];case"readable":return t.destroyed?!1:t.readable;case"setTimeout":{let{session:r}=t;return r!==void 0?r.setTimeout.bind(r):t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new Ms;default:{let r=t.session===void 0?t:t.session.socket,s=r[e];return typeof s=="function"?s.bind(r):s}}},getPrototypeOf(t){return t.session!==void 0?Reflect.getPrototypeOf(t.session.socket):Reflect.getPrototypeOf(t)},set(t,e,r){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=r,!0;case"setTimeout":{let{session:s}=t;return s===void 0?t.setTimeout=r:s.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new Ms;default:{let s=t.session===void 0?t:t.session.socket;return s[e]=r,!0}}}};Vs.exports=Wo});var Vt=E((zh,Xs)=>{"use strict";var{URL:$t,urlToHttpOptions:Gs}=require("url"),Go=require("http2"),{Writable:Jo}=require("stream"),{Agent:Ko,globalAgent:Qo}=J(),Yo=zt(),Xo=Ds(),{ERR_INVALID_ARG_TYPE:Je,ERR_INVALID_PROTOCOL:Zo,ERR_HTTP_HEADERS_SENT:Js}=_e(),ea=Ut(),ta=Bt(),ra=Ws(),{HTTP2_HEADER_STATUS:Ks,HTTP2_HEADER_METHOD:Qs,HTTP2_HEADER_PATH:Ys,HTTP2_HEADER_AUTHORITY:we,HTTP2_METHOD_CONNECT:sa}=Go.constants,A=Symbol("headers"),te=Symbol("origin"),Ee=Symbol("session"),Ft=Symbol("options"),Ke=Symbol("flushedHeaders"),xe=Symbol("jobs"),Se=Symbol("pendingAgentPromise"),Mt=class extends Jo{constructor(e,r,s){if(super({autoDestroy:!1,emitClose:!1}),typeof e=="string"?e=Gs(new $t(e)):e instanceof $t?e=Gs(e):e={...e},typeof r=="function"||r===void 0?(s=r,r=e):r=Object.assign(e,r),r.h2session){if(this[Ee]=r.h2session,this[Ee].destroyed)throw new Error("The session has been closed already");this.protocol=this[Ee].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new Ko({maxEmptySessions:0});else if(typeof r.agent>"u"||r.agent===null)this.agent=Qo;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Je("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new Zo(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:n}=r;r.timeout=void 0,this[A]=Object.create(null),this[xe]=[],this[Se]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:i}=r;if(i)for(let a in i)this.setHeader(a,i[a]);r.auth&&!("authorization"in this[A])&&(this[A].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[Ft]=r,this[te]=new $t(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[te],this[Ft]).catch(()=>{})),n&&this.setTimeout(n),s&&this.once("response",s),this[Ke]=!1}get method(){return this[A][Qs]}set method(e){e&&(this[A][Qs]=e.toUpperCase())}get path(){let e=this.method==="CONNECT"?we:Ys;return this[A][e]}set path(e){if(e){let r=this.method==="CONNECT"?we:Ys;this[A][r]=e}}get host(){return this[te].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,s){if(this._mustNotHaveABody){s(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,s);this._request?n():this[xe].push(n)}_final(e){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};this._request?r():this[xe].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(e,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[Se]}catch(s){this.aborted&&(e=s)}r(e)}async flushHeaders(){if(this[Ke]||this.destroyed)return;this[Ke]=!0;let e=this.method===sa,r=s=>{if(this._request=s,this.destroyed){s.destroy();return}e||Xo(s,this,["timeout","continue"]),s.once("error",i=>{this.destroy(i)}),s.once("aborted",()=>{let{res:i}=this;i?(i.aborted=!0,i.emit("aborted"),i.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let n=(i,o,a)=>{let u=new Yo(this.socket,s.readableHighWaterMark);this.res=u,u.url=`${this[te].origin}${this.path}`,u.req=this,u.statusCode=i[Ks],u.headers=i,u.rawHeaders=a,u.once("end",()=>{u.complete=!0,u.socket=null,u.connection=null}),e?(u.upgrade=!0,this.emit("connect",u,s,Buffer.alloc(0))?this.emit("close"):s.destroy()):(s.on("data",f=>{!u._dumped&&!u.push(f)&&s.pause()}),s.once("end",()=>{this.aborted||u.push(null)}),this.emit("response",u)||u._dump())};s.once("response",n),s.once("headers",i=>this.emit("information",{statusCode:i[Ks]})),s.once("trailers",(i,o,a)=>{let{res:u}=this;if(u===null){n(i,o,a);return}u.trailers=i,u.rawTrailers=a}),s.once("close",()=>{let{aborted:i,res:o}=this;if(o){i&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(s,ra);for(let i of this[xe])i();this.emit("socket",this.socket)};if(!(we in this[A])&&!e&&(this[A][we]=this[te].host),this[Ee])try{r(this[Ee].request(this[A]))}catch(s){this.destroy(s)}else{this.reusedSocket=!0;try{let s=this.agent.request(this[te],this[Ft],this[A]);this[Se]=s,r(await s),this[Se]=!1}catch(s){this[Se]=!1,this.destroy(s)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[A])}hasHeader(e){if(typeof e!="string")throw new Je("name","string",e);return Boolean(this[A][e.toLowerCase()])}getHeader(e){if(typeof e!="string")throw new Je("name","string",e);return this[A][e.toLowerCase()]}get headersSent(){return this[Ke]}removeHeader(e){if(typeof e!="string")throw new Je("name","string",e);if(this.headersSent)throw new Js("remove");delete this[A][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new Js("set");ea(e),ta(e,r);let s=e.toLowerCase();if(s==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}s==="host"&&this.method==="CONNECT"?this[A][we]=r:this[A][s]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let s=()=>this._request.setTimeout(e,r);return this._request?s():this[xe].push(s),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};Xs.exports=Mt});var en=E((Uh,Zs)=>{"use strict";var na=require("tls");Zs.exports=(t={},e=na.connect)=>new Promise((r,s)=>{let n=!1,i,o=async()=>{await u,i.off("timeout",a),i.off("error",s),t.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:n}),n&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},u=(async()=>{try{i=await e(t,o),i.on("error",s),i.once("timeout",a)}catch(f){s(f)}})()})});var rn=E((Bh,tn)=>{"use strict";var{isIP:ia}=require("net"),oa=require("assert"),aa=t=>{if(t[0]==="["){let r=t.indexOf("]");return oa(r!==-1),t.slice(1,r)}let e=t.indexOf(":");return e===-1?t:t.slice(0,e)};tn.exports=t=>{let e=aa(t);return ia(e)?"":e}});var fn=E(($h,Te)=>{"use strict";var{URL:sn,urlToHttpOptions:nn}=require("url"),on=require("http"),Wt=require("https"),ca=en(),ha=It(),{Agent:ua,globalAgent:fa}=J(),da=Vt(),la=rn(),an=vt(),cn=new ha({maxSize:100}),pa=new Map,ma=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let s=()=>{t.emit("free",e,r)};e.on("free",s);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let i=()=>{let{freeSockets:a}=t;for(let u of Object.values(a))if(u.includes(e)){e.destroy();return}};e.on("timeout",i);let o=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",s),e.off("timeout",i),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},hn=(t,e=new Map,r=void 0)=>async s=>{let n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!t.has(n)){if(e.has(n))return{alpnProtocol:(await e.get(n)).alpnProtocol};let{path:i}=s;s.path=s.socketPath;let o=ca(s,r);e.set(n,o);try{let a=await o;return t.set(n,a.alpnProtocol),e.delete(n),s.path=i,a}catch(a){throw e.delete(n),s.path=i,a}}return{alpnProtocol:t.get(n)}},un=hn(cn,pa);Te.exports=async(t,e,r)=>{if(typeof t=="string"?t=nn(new sn(t)):t instanceof sn?t=nn(t):t={...t},typeof e=="function"||e===void 0?(r=e,e=t):e=Object.assign(t,e),e.ALPNProtocols=e.ALPNProtocols||["h2","http/1.1"],!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let s=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||la(e.headers&&e.headers.host||e.host),e.port=e.port||(s?443:80),e._defaultAgent=s?Wt.globalAgent:on.globalAgent;let n=e.resolveProtocol||un,{agent:i}=e;if(i!==void 0&&i!==!1&&i.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(s){e.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:u}=await n(e);if(u){o&&o.destroy();let y=new Error(`Timed out resolving ALPN: ${e.timeout} ms`);throw y.code="ETIMEDOUT",y.ms=e.timeout,y}o&&e.createConnection&&(o.destroy(),o=void 0),delete e.resolveSocket;let f=a==="h2";if(i&&(i=f?i.http2:i.https,e.agent=i),i===void 0&&(i=f?fa:Wt.globalAgent),o)if(i===!1)o.destroy();else{let y=(f?ua:Wt.Agent).prototype.createConnection;i.createConnection===y?f?e._reuseSocket=o:ma(i,o,e):o.destroy()}if(f)return an(new da(e,r))}else i&&(e.agent=i.http);return an(on.request(e,r))};Te.exports.protocolCache=cn;Te.exports.resolveProtocol=un;Te.exports.createResolveProtocol=hn});var Gt=E((Fh,dn)=>{"use strict";var ya=require("stream"),ga=require("tls"),ba=new ga.TLSSocket(new ya.PassThrough)._handle._parentWrap.constructor;dn.exports=ba});var Kt=E((Mh,ln)=>{"use strict";var Jt=class extends Error{constructor(e){super(`The proxy server rejected the request with status code ${e}`),this.statusCode=e}};ln.exports=Jt});var mn=E((Vh,pn)=>{"use strict";var _a=(t,e,r)=>{if(!r.some(n=>typeof n==="string"?typeof e===n:e instanceof n)){let n=r.map(i=>typeof i=="string"?i:i.name);throw new TypeError(`Expected '${t}' to be a type of ${n.join(" or ")}, got ${typeof e}`)}};pn.exports=_a});var Qt=E((Wh,gn)=>{"use strict";var{URL:yn}=require("url"),Qe=mn();gn.exports=(t,e)=>{Qe("proxyOptions",e,["object"]),Qe("proxyOptions.headers",e.headers,["object","undefined"]),Qe("proxyOptions.raw",e.raw,["boolean","undefined"]),Qe("proxyOptions.url",e.url,[yn,"string"]);let r=new yn(e.url);t.proxyOptions={raw:!0,...e,headers:{...e.headers},url:r}}});var Ye=E((Gh,bn)=>{"use strict";bn.exports=t=>{let{username:e,password:r}=t.proxyOptions.url;if(e||r){let s=`${e}:${r}`,n=`Basic ${Buffer.from(s).toString("base64")}`;return{"proxy-authorization":n,authorization:n}}return{}}});var Sn=E((Jh,xn)=>{"use strict";var wa=require("tls"),Ea=require("http"),_n=require("https"),xa=Gt(),{globalAgent:Sa}=J(),Ta=Kt(),wn=Qt(),Ca=Ye(),En=(t,e,r)=>{(async()=>{try{let{proxyOptions:s}=t,{url:n,headers:i,raw:o}=s,a=await Sa.request(n,s,{...Ca(t),...i,":method":"CONNECT",":authority":`${e.host}:${e.port}`});a.once("error",r),a.once("response",u=>{let f=u[":status"];if(f!==200){r(new Ta(f));return}let y=t instanceof _n.Agent;if(o&&y){e.socket=a;let b=wa.connect(e);b.once("close",()=>{a.destroy()}),r(null,b);return}let _=new xa(a);_.encrypted=!1,_._handle.getpeername=b=>{b.family=void 0,b.address=void 0,b.port=void 0},r(null,_)})}catch(s){r(s)}})()},Yt=class extends Ea.Agent{constructor(e){super(e),wn(this,e.proxyOptions)}createConnection(e,r){En(this,e,r)}},Xt=class extends _n.Agent{constructor(e){super(e),wn(this,e.proxyOptions)}createConnection(e,r){En(this,e,r)}};xn.exports={HttpOverHttp2:Yt,HttpsOverHttp2:Xt}});var er=E((Kh,Tn)=>{"use strict";var{Agent:Oa}=J(),Pa=Gt(),Ra=Kt(),ka=Qt(),Zt=class extends Oa{constructor(e){super(e),ka(this,e.proxyOptions)}async createConnection(e,r){let s=`${e.hostname}:${e.port||443}`,[n,i]=await this._getProxyStream(s);if(i!==200)throw new Ra(i);if(this.proxyOptions.raw)r.socket=n;else{let o=new Pa(n);return o.encrypted=!1,o._handle.getpeername=a=>{a.family=void 0,a.address=void 0,a.port=void 0},o}return super.createConnection(e,r)}};Tn.exports=Zt});var On=E((Qh,Cn)=>{"use strict";var{globalAgent:Aa}=J(),qa=er(),ja=Ye(),Ha=t=>new Promise((e,r)=>{t.once("error",r),t.once("response",s=>{t.off("error",r),e(s[":status"])})}),tr=class extends qa{async _getProxyStream(e){let{proxyOptions:r}=this,s={...ja(this),...r.headers,":method":"CONNECT",":authority":e},n=await Aa.request(r.url,r,s),i=await Ha(n);return[n,i]}};Cn.exports=tr});var Rn=E((Yh,Pn)=>{"use strict";var La=require("http"),Ia=require("https"),va=er(),Na=Ye(),Da=t=>new Promise((e,r)=>{let s=(n,i,o)=>{i.unshift(o),t.off("error",r),e([i,n.statusCode])};t.once("error",r),t.once("connect",s)}),Xe=class extends va{async _getProxyStream(e){let{proxyOptions:r}=this,{url:s,headers:n}=this.proxyOptions,o=(s.protocol==="https:"?Ia:La).request({...r,hostname:s.hostname,port:s.port,path:e,headers:{...Na(this),...n,host:e},method:"CONNECT"}).end();return Da(o)}};Pn.exports={Http2OverHttp:Xe,Http2OverHttps:Xe}});var An=E((Xh,kn)=>{"use strict";var za=require("http2"),{Agent:Ua,globalAgent:Ba}=J(),rr=Vt(),$a=zt(),Fa=fn(),{HttpOverHttp2:Ma,HttpsOverHttp2:Va}=Sn(),Wa=On(),{Http2OverHttp:Ga,Http2OverHttps:Ja}=Rn(),Ka=Ut(),Qa=Bt(),Ya=(t,e,r)=>new rr(t,e,r),Xa=(t,e,r)=>{let s=new rr(t,e,r);return s.end(),s};kn.exports={...za,ClientRequest:rr,IncomingMessage:$a,Agent:Ua,globalAgent:Ba,request:Ya,get:Xa,auto:Fa,proxies:{HttpOverHttp2:Ma,HttpsOverHttp2:Va,Http2OverHttp2:Wa,Http2OverHttp:Ga,Http2OverHttps:Ja},validateHeaderName:Ka,validateHeaderValue:Qa}});var ur=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function ei(t){return ur.includes(t)}var ti=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...ur];function ri(t){return ti.includes(t)}var si=["null","undefined","string","number","bigint","boolean","symbol"];function ni(t){return si.includes(t)}function Y(t){return e=>typeof e===t}var{toString:ii}=Object.prototype,se=t=>{let e=ii.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&c.domElement(t))return"HTMLElement";if(ri(e))return e},O=t=>e=>se(e)===t;function c(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(c.observable(t))return"Observable";if(c.array(t))return"Array";if(c.buffer(t))return"Buffer";let e=se(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}c.undefined=Y("undefined");c.string=Y("string");var oi=Y("number");c.number=t=>oi(t)&&!c.nan(t);c.bigint=Y("bigint");c.function_=Y("function");c.null_=t=>t===null;c.class_=t=>c.function_(t)&&t.toString().startsWith("class ");c.boolean=t=>t===!0||t===!1;c.symbol=Y("symbol");c.numericString=t=>c.string(t)&&!c.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));c.array=(t,e)=>Array.isArray(t)?c.function_(e)?t.every(r=>e(r)):!0:!1;c.buffer=t=>{var e,r;return((r=(e=t==null?void 0:t.constructor)==null?void 0:e.isBuffer)==null?void 0:r.call(e,t))??!1};c.blob=t=>O("Blob")(t);c.nullOrUndefined=t=>c.null_(t)||c.undefined(t);c.object=t=>!c.null_(t)&&(typeof t=="object"||c.function_(t));c.iterable=t=>c.function_(t==null?void 0:t[Symbol.iterator]);c.asyncIterable=t=>c.function_(t==null?void 0:t[Symbol.asyncIterator]);c.generator=t=>c.iterable(t)&&c.function_(t==null?void 0:t.next)&&c.function_(t==null?void 0:t.throw);c.asyncGenerator=t=>c.asyncIterable(t)&&c.function_(t.next)&&c.function_(t.throw);c.nativePromise=t=>O("Promise")(t);var ai=t=>c.function_(t==null?void 0:t.then)&&c.function_(t==null?void 0:t.catch);c.promise=t=>c.nativePromise(t)||ai(t);c.generatorFunction=O("GeneratorFunction");c.asyncGeneratorFunction=t=>se(t)==="AsyncGeneratorFunction";c.asyncFunction=t=>se(t)==="AsyncFunction";c.boundFunction=t=>c.function_(t)&&!t.hasOwnProperty("prototype");c.regExp=O("RegExp");c.date=O("Date");c.error=O("Error");c.map=t=>O("Map")(t);c.set=t=>O("Set")(t);c.weakMap=t=>O("WeakMap")(t);c.weakSet=t=>O("WeakSet")(t);c.weakRef=t=>O("WeakRef")(t);c.int8Array=O("Int8Array");c.uint8Array=O("Uint8Array");c.uint8ClampedArray=O("Uint8ClampedArray");c.int16Array=O("Int16Array");c.uint16Array=O("Uint16Array");c.int32Array=O("Int32Array");c.uint32Array=O("Uint32Array");c.float32Array=O("Float32Array");c.float64Array=O("Float64Array");c.bigInt64Array=O("BigInt64Array");c.bigUint64Array=O("BigUint64Array");c.arrayBuffer=O("ArrayBuffer");c.sharedArrayBuffer=O("SharedArrayBuffer");c.dataView=O("DataView");c.enumCase=(t,e)=>Object.values(e).includes(t);c.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;c.urlInstance=t=>O("URL")(t);c.urlString=t=>{if(!c.string(t))return!1;try{return new URL(t),!0}catch{return!1}};c.truthy=t=>Boolean(t);c.falsy=t=>!t;c.nan=t=>Number.isNaN(t);c.primitive=t=>c.null_(t)||ni(typeof t);c.integer=t=>Number.isInteger(t);c.safeInteger=t=>Number.isSafeInteger(t);c.plainObject=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};c.typedArray=t=>ei(se(t));var ci=t=>c.safeInteger(t)&&t>=0;c.arrayLike=t=>!c.nullOrUndefined(t)&&!c.function_(t)&&ci(t.length);c.inRange=(t,e)=>{if(c.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(c.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var hi=1,ui=["innerHTML","ownerDocument","style","attributes","nodeValue"];c.domElement=t=>c.object(t)&&t.nodeType===hi&&c.string(t.nodeName)&&!c.plainObject(t)&&ui.every(e=>e in t);c.observable=t=>{var e,r;return t?t===((e=t[Symbol.observable])==null?void 0:e.call(t))||t===((r=t["@@observable"])==null?void 0:r.call(t)):!1};c.nodeStream=t=>c.object(t)&&c.function_(t.pipe)&&!c.observable(t);c.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;var fr=t=>e=>c.integer(e)&&Math.abs(e%2)===t;c.evenInteger=fr(0);c.oddInteger=fr(1);c.emptyArray=t=>c.array(t)&&t.length===0;c.nonEmptyArray=t=>c.array(t)&&t.length>0;c.emptyString=t=>c.string(t)&&t.length===0;var fi=t=>c.string(t)&&!/\S/.test(t);c.emptyStringOrWhitespace=t=>c.emptyString(t)||fi(t);c.nonEmptyString=t=>c.string(t)&&t.length>0;c.nonEmptyStringAndNotWhitespace=t=>c.string(t)&&!c.emptyStringOrWhitespace(t);c.emptyObject=t=>c.object(t)&&!c.map(t)&&!c.set(t)&&Object.keys(t).length===0;c.nonEmptyObject=t=>c.object(t)&&!c.map(t)&&!c.set(t)&&Object.keys(t).length>0;c.emptySet=t=>c.set(t)&&t.size===0;c.nonEmptySet=t=>c.set(t)&&t.size>0;c.emptyMap=t=>c.map(t)&&t.size===0;c.nonEmptyMap=t=>c.map(t)&&t.size>0;c.propertyKey=t=>c.any([c.string,c.number,c.symbol],t);c.formData=t=>O("FormData")(t);c.urlSearchParams=t=>O("URLSearchParams")(t);var dr=(t,e,r)=>{if(!c.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};c.any=(t,...e)=>(c.array(t)?t:[t]).some(s=>dr(Array.prototype.some,s,e));c.all=(t,...e)=>dr(Array.prototype.every,t,e);var p=(t,e,r,s={})=>{if(!t){let{multipleValues:n}=s,i=n?`received values of types ${[...new Set(r.map(o=>`\`${c(o)}\``))].join(", ")}`:`received value of type \`${c(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${i}.`)}},l={undefined:t=>p(c.undefined(t),"undefined",t),string:t=>p(c.string(t),"string",t),number:t=>p(c.number(t),"number",t),bigint:t=>p(c.bigint(t),"bigint",t),function_:t=>p(c.function_(t),"Function",t),null_:t=>p(c.null_(t),"null",t),class_:t=>p(c.class_(t),"Class",t),boolean:t=>p(c.boolean(t),"boolean",t),symbol:t=>p(c.symbol(t),"symbol",t),numericString:t=>p(c.numericString(t),"string with a number",t),array:(t,e)=>{p(c.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>p(c.buffer(t),"Buffer",t),blob:t=>p(c.blob(t),"Blob",t),nullOrUndefined:t=>p(c.nullOrUndefined(t),"null or undefined",t),object:t=>p(c.object(t),"Object",t),iterable:t=>p(c.iterable(t),"Iterable",t),asyncIterable:t=>p(c.asyncIterable(t),"AsyncIterable",t),generator:t=>p(c.generator(t),"Generator",t),asyncGenerator:t=>p(c.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>p(c.nativePromise(t),"native Promise",t),promise:t=>p(c.promise(t),"Promise",t),generatorFunction:t=>p(c.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>p(c.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>p(c.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>p(c.boundFunction(t),"Function",t),regExp:t=>p(c.regExp(t),"RegExp",t),date:t=>p(c.date(t),"Date",t),error:t=>p(c.error(t),"Error",t),map:t=>p(c.map(t),"Map",t),set:t=>p(c.set(t),"Set",t),weakMap:t=>p(c.weakMap(t),"WeakMap",t),weakSet:t=>p(c.weakSet(t),"WeakSet",t),weakRef:t=>p(c.weakRef(t),"WeakRef",t),int8Array:t=>p(c.int8Array(t),"Int8Array",t),uint8Array:t=>p(c.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>p(c.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>p(c.int16Array(t),"Int16Array",t),uint16Array:t=>p(c.uint16Array(t),"Uint16Array",t),int32Array:t=>p(c.int32Array(t),"Int32Array",t),uint32Array:t=>p(c.uint32Array(t),"Uint32Array",t),float32Array:t=>p(c.float32Array(t),"Float32Array",t),float64Array:t=>p(c.float64Array(t),"Float64Array",t),bigInt64Array:t=>p(c.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>p(c.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>p(c.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>p(c.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>p(c.dataView(t),"DataView",t),enumCase:(t,e)=>p(c.enumCase(t,e),"EnumCase",t),urlInstance:t=>p(c.urlInstance(t),"URL",t),urlString:t=>p(c.urlString(t),"string with a URL",t),truthy:t=>p(c.truthy(t),"truthy",t),falsy:t=>p(c.falsy(t),"falsy",t),nan:t=>p(c.nan(t),"NaN",t),primitive:t=>p(c.primitive(t),"primitive",t),integer:t=>p(c.integer(t),"integer",t),safeInteger:t=>p(c.safeInteger(t),"integer",t),plainObject:t=>p(c.plainObject(t),"plain object",t),typedArray:t=>p(c.typedArray(t),"TypedArray",t),arrayLike:t=>p(c.arrayLike(t),"array-like",t),domElement:t=>p(c.domElement(t),"HTMLElement",t),observable:t=>p(c.observable(t),"Observable",t),nodeStream:t=>p(c.nodeStream(t),"Node.js Stream",t),infinite:t=>p(c.infinite(t),"infinite number",t),emptyArray:t=>p(c.emptyArray(t),"empty array",t),nonEmptyArray:t=>p(c.nonEmptyArray(t),"non-empty array",t),emptyString:t=>p(c.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>p(c.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>p(c.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>p(c.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>p(c.emptyObject(t),"empty object",t),nonEmptyObject:t=>p(c.nonEmptyObject(t),"non-empty object",t),emptySet:t=>p(c.emptySet(t),"empty set",t),nonEmptySet:t=>p(c.nonEmptySet(t),"non-empty set",t),emptyMap:t=>p(c.emptyMap(t),"empty map",t),nonEmptyMap:t=>p(c.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>p(c.propertyKey(t),"PropertyKey",t),formData:t=>p(c.formData(t),"FormData",t),urlSearchParams:t=>p(c.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>p(c.evenInteger(t),"even integer",t),oddInteger:t=>p(c.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>p(c.directInstanceOf(t,e),"T",t),inRange:(t,e)=>p(c.inRange(t,e),"in range",t),any:(t,...e)=>p(c.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>p(c.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(c,{class:{value:c.class_},function:{value:c.function_},null:{value:c.null_}});Object.defineProperties(l,{class:{value:l.class_},function:{value:l.function_},null:{value:l.null_}});var h=c;var Fn=require("events");var ot=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},U=class{static fn(e){return(...r)=>new U((s,n,i)=>{r.push(i),e(...r).then(s,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,s)=>{this._reject=s;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,s(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,i,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new ot(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(U.prototype,Promise.prototype);function di(t){return h.object(t)&&"_onResponse"in t}var R=class extends Error{constructor(e,r,s){var n;if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,di(s)?(Object.defineProperty(this,"request",{enumerable:!1,value:s}),Object.defineProperty(this,"response",{enumerable:!1,value:s.response}),this.options=s.options):this.options=s,this.timings=(n=this.request)==null?void 0:n.timings,h.string(r.stack)&&h.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,o=this.stack.slice(i).split(`
    `).reverse(),a=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
    `).reverse();for(;a.length>0&&a[0]===o[0];)o.shift();this.stack=`${this.stack.slice(0,i)}${o.reverse().join(`
    `)}${a.reverse().join(`
    `)}`}}},Re=class extends R{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},M=class extends R{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},ke=class extends R{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},ne=class extends R{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},Ae=class extends R{constructor(e,r,s){super(e.message,e,s),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},ie=class extends R{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},qe=class extends R{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},oe=class extends R{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}};var cr=L(require("process"),1),rt=require("buffer"),Un=require("stream"),st=require("url"),Oe=L(require("http"),1);var pr=require("events"),mr=require("util"),yr=L(lr(),1),pi=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=o=>{o.once(pr.errorMonitor,()=>{e.error=Date.now(),e.phases.total=e.error-e.start})};r(t);let s=()=>{e.abort=Date.now(),e.phases.total=e.abort-e.start};t.prependOnceListener("abort",s);let n=o=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,mr.types.isProxy(o))return;let a=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};o.prependOnceListener("lookup",a),(0,yr.default)(o,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(o.removeListener("lookup",a),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let i=()=>{e.upload=Date.now(),e.phases.request=e.upload-(e.secureConnect??e.connect)};return t.writableFinished?i():t.prependOnceListener("finish",i),t.prependOnceListener("response",o=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,o.timings=e,r(o),o.prependOnceListener("end",()=>{t.off("abort",s),o.off("aborted",s),!e.phases.total&&(e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start)}),o.prependOnceListener("aborted",s)}),e},gr=pi;var ar=L(ss(),1),Bn=L(as(),1);var $n=L(us(),1);var fs="abcdefghijklmnopqrstuvwxyz0123456789";function ds(){let t=16,e="";for(;t--;)e+=fs[Math.random()*fs.length<<0];return e}var St=t=>String(t).replace(/\r|\n/g,(e,r,s)=>e==="\r"&&s[r+1]!==`
    `||e===`
    `&&s[r-1]!=="\r"?`\r
    `:e);var bo=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function Tt(t){if(bo(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}function ls(t,e){if(typeof e!="string")return t[e];for(let[r,s]of Object.entries(t))if(e.toLowerCase()===r.toLowerCase())return s}var ps=t=>new Proxy(t,{get:(e,r)=>ls(e,r),has:(e,r)=>ls(e,r)!==void 0});var N=t=>typeof t=="function";var Z=t=>Boolean(t&&N(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&N(t.append)&&N(t.getAll)&&N(t.entries)&&N(t[Symbol.iterator]));var Ct=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var W=t=>Boolean(t&&typeof t=="object"&&N(t.constructor)&&t[Symbol.toStringTag]==="File"&&N(t.stream)&&t.name!=null&&t.size!=null&&t.lastModified!=null);var he=function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},P=function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},ue,B,fe,Ue,de,G,le,pe,Be,Ot,ms,_o={enableAdditionalHeaders:!1},$e={writable:!1,configurable:!1},Fe=class{constructor(e,r,s){if(ue.add(this),B.set(this,`\r
    `),fe.set(this,void 0),Ue.set(this,void 0),de.set(this,"-".repeat(2)),G.set(this,new TextEncoder),le.set(this,void 0),pe.set(this,void 0),Be.set(this,void 0),!Z(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if(Tt(r)?s=r:n=r,n||(n=ds()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(s&&!Tt(s))throw new TypeError("Expected options argument to be an object.");he(this,pe,Array.from(e.entries()),"f"),he(this,Be,{..._o,...s},"f"),he(this,fe,P(this,G,"f").encode(P(this,B,"f")),"f"),he(this,Ue,P(this,fe,"f").byteLength,"f"),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,he(this,le,P(this,G,"f").encode(`${P(this,de,"f")}${this.boundary}${P(this,de,"f")}${P(this,B,"f").repeat(2)}`),"f"),this.contentLength=P(this,ue,"m",ms).call(this),this.headers=ps(Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength})),Object.defineProperties(this,{boundary:$e,contentType:$e,contentLength:$e,headers:$e})}getContentLength(){return Number(this.contentLength)}*values(){for(let[e,r]of P(this,pe,"f")){let s=W(r)?r:P(this,G,"f").encode(St(r));yield P(this,ue,"m",Ot).call(this,e,s),yield s,yield P(this,fe,"f")}yield P(this,le,"f")}async*encode(){for(let e of this.values())W(e)?yield*e.stream():yield e}[(B=new WeakMap,fe=new WeakMap,Ue=new WeakMap,de=new WeakMap,G=new WeakMap,le=new WeakMap,pe=new WeakMap,Be=new WeakMap,ue=new WeakSet,Ot=function(r,s){let n="";return n+=`${P(this,de,"f")}${this.boundary}${P(this,B,"f")}`,n+=`Content-Disposition: form-data; name="${Ct(r)}"`,W(s)&&(n+=`; filename="${Ct(s.name)}"${P(this,B,"f")}`,n+=`Content-Type: ${s.type||"application/octet-stream"}`),P(this,Be,"f").enableAdditionalHeaders===!0&&(n+=`${P(this,B,"f")}Content-Length: ${W(s)?s.size:s.byteLength}`),P(this,G,"f").encode(`${n}${P(this,B,"f").repeat(2)}`)},ms=function(){let r=0;for(let[s,n]of P(this,pe,"f")){let i=W(n)?n:P(this,G,"f").encode(St(n));r+=P(this,ue,"m",Ot).call(this,s,i).byteLength,r+=W(i)?i.size:i.byteLength,r+=P(this,Ue,"f")}return String(r+P(this,le,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};var ys=require("buffer"),gs=require("util");function me(t){return h.nodeStream(t)&&h.function_(t.getBoundary)}async function Pt(t,e){if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(h.string(t))return ys.Buffer.byteLength(t);if(h.buffer(t))return t.length;if(me(t))return(0,gs.promisify)(t.getLength.bind(t))()}function ye(t,e,r){let s={};for(let n of r){let i=(...o)=>{e.emit(n,...o)};s[n]=i,t.on(n,i)}return()=>{for(let[n,i]of Object.entries(s))t.off(n,i)}}var _s=L(require("net"),1);function Rt(){let t=[];return{once(e,r,s){e.once(r,s),t.push({origin:e,event:r,fn:s})},unhandleAll(){for(let e of t){let{origin:r,event:s,fn:n}=e;r.removeListener(s,n)}t.length=0}}}var bs=Symbol("reentry"),wo=()=>{},ge=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function kt(t,e,r){if(bs in t)return wo;t[bs]=!0;let s=[],{once:n,unhandleAll:i}=Rt(),o=(d,m,x)=>{var T;let C=setTimeout(m,d,d,x);(T=C.unref)==null||T.call(C);let w=()=>{clearTimeout(C)};return s.push(w),w},{host:a,hostname:u}=r,f=(d,m)=>{t.destroy(new ge(d,m))},y=()=>{for(let d of s)d();i()};if(t.once("error",d=>{if(y(),t.listenerCount("error")===0)throw d}),typeof e.request<"u"){let d=o(e.request,f,"request");n(t,"response",m=>{n(m,"end",d)})}if(typeof e.socket<"u"){let{socket:d}=e,m=()=>{f(d,"socket")};t.setTimeout(d,m),s.push(()=>{t.removeListener("timeout",m)})}let _=typeof e.lookup<"u",b=typeof e.connect<"u",g=typeof e.secureConnect<"u",S=typeof e.send<"u";return(_||b||g||S)&&n(t,"socket",d=>{let{socketPath:m}=t;if(d.connecting){let x=Boolean(m??_s.default.isIP(u??a??"")!==0);if(_&&!x&&typeof d.address().address>"u"){let C=o(e.lookup,f,"lookup");n(d,"lookup",C)}if(b){let C=()=>o(e.connect,f,"connect");x?n(d,"connect",C()):n(d,"lookup",w=>{w===null&&n(d,"connect",C())})}g&&r.protocol==="https:"&&n(d,"connect",()=>{let C=o(e.secureConnect,f,"secureConnect");n(d,"secureConnect",C)})}if(S){let x=()=>o(e.send,f,"send");d.connecting?n(d,"connect",()=>{n(t,"upload-complete",x())}):n(t,"upload-complete",x())}}),typeof e.response<"u"&&n(t,"upload-complete",()=>{let d=o(e.response,f,"response");n(t,"response",d)}),typeof e.read<"u"&&n(t,"response",d=>{let m=o(e.read,f,"read");n(d,"end",m)}),y}function At(t){t=t;let e={protocol:t.protocol,hostname:h.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return h.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}var be=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};var Eo=({attemptCount:t,retryOptions:e,error:r,retryAfter:s,computedValue:n})=>{if(r.name==="RetryError")return 1;if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),a=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!a)return 0;if(r.response){if(s)return s>n?0:s;if(r.response.statusCode===413)return 0}let u=Math.random()*e.noise;return Math.min(2**(t-1)*1e3,e.backoffLimit)+u},ws=Eo;var Hn=L(require("process"),1),Ce=require("util"),D=require("url"),Ln=require("tls"),In=L(require("http"),1),vn=L(require("https"),1);function Me(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLowerCase(),r]))}var Nn=L(Ps(),1),Dn=L(An(),1);function sr(t){let e=[],r=t.split(",");for(let s of r){let[n,...i]=s.split(";"),o=n.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),u={};if(i.length===0)throw new Error(`Unexpected end of Link header parameters: ${i.join(";")}`);for(let f of i){let y=f.trim(),_=y.indexOf("=");if(_===-1)throw new Error(`Failed to parse Link header: ${t}`);let b=y.slice(0,_).trim(),g=y.slice(_+1).trim();u[b]=g}e.push({reference:a,parameters:u})}return e}var[qn,Za]=Hn.default.versions.node.split(".").map(Number);function ec(t){for(let e in t){let r=t[e];l.any([h.string,h.number,h.boolean,h.null_,h.undefined],r)}}var tc=new Map,Ze,rc=()=>Ze||(Ze=new Nn.default,Ze),sc={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(t){return t.request.options.responseType==="json"?t.body:JSON.parse(t.body)},paginate({response:t}){let e=t.headers.link;if(typeof e!="string"||e.trim()==="")return!1;let s=sr(e).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return s?{url:new D.URL(s.reference,t.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},nc=t=>{let{hooks:e,retry:r}=t,s={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...e.init],beforeRequest:[...e.beforeRequest],beforeError:[...e.beforeError],beforeRedirect:[...e.beforeRedirect],beforeRetry:[...e.beforeRetry],afterResponse:[...e.afterResponse]},searchParams:t.searchParams?new D.URLSearchParams(t.searchParams):void 0,pagination:{...t.pagination}};return s.url!==void 0&&(s.prefixUrl=""),s},ic=t=>{let{hooks:e,retry:r}=t,s={...t};return h.object(t.context)&&(s.context={...t.context}),h.object(t.cacheOptions)&&(s.cacheOptions={...t.cacheOptions}),h.object(t.https)&&(s.https={...t.https}),h.object(t.cacheOptions)&&(s.cacheOptions={...s.cacheOptions}),h.object(t.agent)&&(s.agent={...t.agent}),h.object(t.headers)&&(s.headers={...t.headers}),h.object(r)&&(s.retry={...r},h.array(r.errorCodes)&&(s.retry.errorCodes=[...r.errorCodes]),h.array(r.methods)&&(s.retry.methods=[...r.methods]),h.array(r.statusCodes)&&(s.retry.statusCodes=[...r.statusCodes])),h.object(t.timeout)&&(s.timeout={...t.timeout}),h.object(e)&&(s.hooks={...e},h.array(e.init)&&(s.hooks.init=[...e.init]),h.array(e.beforeRequest)&&(s.hooks.beforeRequest=[...e.beforeRequest]),h.array(e.beforeError)&&(s.hooks.beforeError=[...e.beforeError]),h.array(e.beforeRedirect)&&(s.hooks.beforeRedirect=[...e.beforeRedirect]),h.array(e.beforeRetry)&&(s.hooks.beforeRetry=[...e.beforeRetry]),h.array(e.afterResponse)&&(s.hooks.afterResponse=[...e.afterResponse])),h.object(t.pagination)&&(s.pagination={...t.pagination}),s},oc=t=>{let e=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter(r=>typeof r=="number");if(e.length>0)return Math.min(...e)},jn=(t,e,r)=>{var n;let s=(n=t.hooks)==null?void 0:n.init;if(s)for(let i of s)i(e,r)},q=class{constructor(e,r,s){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l.any([h.string,h.urlInstance,h.object,h.undefined],e),l.any([h.object,h.undefined],r),l.any([h.object,h.undefined],s),e instanceof q||r instanceof q)throw new TypeError("The defaults must be passed as the third argument");this._internals=nc((s==null?void 0:s._internals)??s??sc),this._init=[...(s==null?void 0:s._init)??[]],this._merging=!1,this._unixOptions=void 0;try{if(h.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if((r==null?void 0:r.url)!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(n){throw n.options=this,n}}merge(e){if(!!e){if(e instanceof q){for(let r of e._init)this.merge(r);return}e=ic(e),jn(this,e,this),jn(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let s in e)if(!(s==="mutableDefaults"||s==="handlers")&&s!=="url"){if(!(s in this))throw new Error(`Unexpected option: ${s}`);this[s]=e[s],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){l.any([h.function_,h.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){l.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);l.any([h.object,h.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){l.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){l.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);l.any([h.number,h.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(l.any([h.string,h.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){l.any([h.string,h.buffer,h.nodeStream,h.generator,h.asyncGenerator,Z,h.undefined],e),h.nodeStream(e)&&l.truthy(e.readable),e!==void 0&&(l.undefined(this._internals.form),l.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){l.any([h.plainObject,h.undefined],e),e!==void 0&&(l.undefined(this._internals.body),l.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(l.undefined(this._internals.body),l.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(l.any([h.string,h.urlInstance,h.undefined],e),e===void 0){this._internals.url=void 0;return}if(h.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,s=new D.URL(r);if(this._internals.url=s,decodeURI(r),s.protocol==="unix:"&&(s.href=`http://unix${s.pathname}${s.search}`),s.protocol!=="http:"&&s.protocol!=="https:"){let n=new Error(`Unsupported protocol: ${s.protocol}`);throw n.code="ERR_UNSUPPORTED_PROTOCOL",n}if(this._internals.username&&(s.username=this._internals.username,this._internals.username=""),this._internals.password&&(s.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(s.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),s.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let n=/(?<socketPath>.+?):(?<path>.+)/.exec(`${s.pathname}${s.search}`);if(n!=null&&n.groups){let{socketPath:i,path:o}=n.groups;this._unixOptions={socketPath:i,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(l.any([h.object,h.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:s}=e;l.function_(r),l.function_(s),r.length===4&&s.length===0?(r=(0,Ce.promisify)(r.bind(e)),s=(0,Ce.promisify)(s.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:s}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){l.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){l.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new D.URLSearchParams),this._internals.searchParams)}set searchParams(e){l.any([h.string,h.object,h.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let s=this.searchParams,n;if(h.string(e))n=new D.URLSearchParams(e);else if(e instanceof D.URLSearchParams)n=e;else{ec(e),n=new D.URLSearchParams;for(let i in e){let o=e[i];o===null?n.append(i,""):o===void 0?s.delete(i):n.append(i,o)}}if(this._merging){for(let i of n.keys())s.delete(i);for(let[i,o]of n)s.append(i,o)}else r?r.search=s.toString():this._internals.searchParams=s}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){l.any([h.function_,h.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){l.any([h.object,h.boolean,h.undefined],e),e===!0?this._internals.dnsCache=rc():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){l.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){l.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let s=r,i=e[s];if(l.any([h.array,h.undefined],i),i)for(let o of i)l.function_(o);if(this._merging)i&&this._internals.hooks[s].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){l.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){l.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){l.any([h.object,h.string,h.boolean,h.undefined],e),e===!0?this._internals.cache=tc:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){l.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){l.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.username=s:this._internals.username=s}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){l.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.password=s:this._internals.password=s}get http2(){return this._internals.http2}set http2(e){l.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){l.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){l.plainObject(e),this._merging?Object.assign(this._internals.headers,Me(e)):this._internals.headers=Me(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){l.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){l.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){l.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(l.plainObject(e),l.any([h.function_,h.undefined],e.calculateDelay),l.any([h.number,h.undefined],e.maxRetryAfter),l.any([h.number,h.undefined],e.limit),l.any([h.array,h.undefined],e.methods),l.any([h.array,h.undefined],e.statusCodes),l.any([h.array,h.undefined],e.errorCodes),l.any([h.number,h.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let s in e)if(!(s in this._internals.retry))throw new Error(`Unexpected retry option: ${s}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(s=>s.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){l.any([h.string,h.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){l.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){l.any([h.function_,h.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){l.plainObject(e),l.any([h.boolean,h.undefined],e.shared),l.any([h.number,h.undefined],e.cacheHeuristic),l.any([h.number,h.undefined],e.immutableMinTimeToLive),l.any([h.boolean,h.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){l.plainObject(e),l.any([h.boolean,h.undefined],e.rejectUnauthorized),l.any([h.function_,h.undefined],e.checkServerIdentity),l.any([h.string,h.object,h.array,h.undefined],e.certificateAuthority),l.any([h.string,h.object,h.array,h.undefined],e.key),l.any([h.string,h.object,h.array,h.undefined],e.certificate),l.any([h.string,h.undefined],e.passphrase),l.any([h.string,h.buffer,h.array,h.undefined],e.pfx),l.any([h.array,h.undefined],e.alpnProtocols),l.any([h.string,h.undefined],e.ciphers),l.any([h.string,h.buffer,h.undefined],e.dhparam),l.any([h.string,h.undefined],e.signatureAlgorithms),l.any([h.string,h.undefined],e.minVersion),l.any([h.string,h.undefined],e.maxVersion),l.any([h.boolean,h.undefined],e.honorCipherOrder),l.any([h.number,h.undefined],e.tlsSessionLifetime),l.any([h.string,h.undefined],e.ecdhCurve),l.any([h.string,h.buffer,h.array,h.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");l.any([h.string,h.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){l.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){l.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){l.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){l.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){l.any([h.number,h.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){l.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,Ce.inspect)(this._internals,r)}createNativeRequestOptions(){var o;let e=this._internals,r=e.url,s;r.protocol==="https:"?s=e.http2?e.agent:e.agent.https:s=e.agent.http;let{https:n}=e,{pfx:i}=n;return h.array(i)&&h.plainObject(i[0])&&(i=i.map(a=>({buf:a.buffer,passphrase:a.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:n.alpnProtocols,ca:n.certificateAuthority,cert:n.certificate,key:n.key,passphrase:n.passphrase,pfx:n.pfx,rejectUnauthorized:n.rejectUnauthorized,checkServerIdentity:n.checkServerIdentity??Ln.checkServerIdentity,ciphers:n.ciphers,honorCipherOrder:n.honorCipherOrder,minVersion:n.minVersion,maxVersion:n.maxVersion,sigalgs:n.signatureAlgorithms,sessionTimeout:n.tlsSessionLifetime,dhparam:n.dhparam,ecdhCurve:n.ecdhCurve,crl:n.certificateRevocationLists,lookup:e.dnsLookup??((o=e.dnsCache)==null?void 0:o.lookup),family:e.dnsLookupIpVersion,agent:s,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?oc(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(!!e){if(e.protocol==="https:"){if(this._internals.http2){if(qn<15||qn===15&&Za<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return Dn.default.auto}return vn.default.request}return In.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes),Object.freeze(e.context),Object.freeze(e.signal)}};var re=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304},et=class extends R{constructor(e,r){let{options:s}=r.request;super(`${e.message} in "${s.url.toString()}"`,e,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},nr=(t,e,r,s)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(s);if(e==="json")return n.length===0?"":r(n.toString(s));if(e==="buffer")return n}catch(i){throw new et(i,t)}throw new et({message:`Unknown body type '${e}'`,name:"Error"},t)};function ac(t){return t.writable&&!t.writableEnded}var zn=ac;function tt(t){return t.protocol==="unix:"||t.hostname==="unix"}var cc=h.string(cr.default.versions.brotli),hc=new Set(["GET","HEAD"]),ir=new be,uc=new Set([300,301,302,303,304,307,308]),fc=["socket","connect","continue","information","upgrade"],or=()=>{},z=class extends Un.Duplex{constructor(e,r,s){var i,o;super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=or,this._triggerRead=!1,this._cancelTimeouts=or,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=or,this.on("pipe",a=>{a.headers&&Object.assign(this.options.headers,a.headers)}),this.on("newListener",a=>{if(a==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new q(e,r,s),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(a){let{options:u}=a;u&&(this.options=u),this.flush=async()=>{this.flush=async()=>{},this.destroy(a)};return}(i=this.options.signal)!=null&&i.aborted&&this.destroy(new oe(this)),(o=this.options.signal)==null||o.addEventListener("abort",()=>{this.destroy(new oe(this))});let{body:n}=this.options;h.nodeStream(n)&&n.once("error",a=>{this._flushed?this._beforeError(new ne(a,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new ne(a,this))}})}async flush(){var e;if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){(e=this._request)==null||e.destroy();return}for(let r of this._jobs)r();this._jobs.length=0,this._requestInitialized=!0}catch(r){this._beforeError(r)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:s}=this,n=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof R||(e=new R(e.message,e,this));let i=e;(async()=>{var o,a;if((r==null?void 0:r.readable)&&!r.rawBody&&!((a=(o=this._request)==null?void 0:o.socket)!=null&&a.destroyed)&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let u;try{let f;r&&"retry-after"in r.headers&&(f=Number(r.headers["retry-after"]),Number.isNaN(f)?(f=Date.parse(r.headers["retry-after"])-Date.now(),f<=0&&(f=1)):f*=1e3);let y=s.retry;u=await y.calculateDelay({attemptCount:n,retryOptions:y,error:i,retryAfter:f,computedValue:ws({attemptCount:n,retryOptions:y,error:i,retryAfter:f,computedValue:y.maxRetryAfter??s.timeout.request??Number.POSITIVE_INFINITY})})}catch(f){this._error(new R(f.message,f,this));return}if(u){if(await new Promise(f=>{let y=setTimeout(f,u);this._stopRetry=()=>{clearTimeout(y),f()}}),this.destroyed)return;try{for(let f of this.options.hooks.beforeRetry)await f(i,this.retryCount+1)}catch(f){this._error(new R(f.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,f=>{let y=new z(s.url,f,s);return y.retryCount=this.retryCount+1,cr.default.nextTick(()=>{y.flush()}),y});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let s=this.downloadProgress;s.percent<1&&this.emit("downloadProgress",s),this.push(r)}}}_write(e,r,s){let n=()=>{this._writeRequest(e,r,s)};this._requestInitialized?n():this._jobs.push(n)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(s=>{var n;(n=this._request._writableState)!=null&&n.errored||(s||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(s))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this.options){let{body:s}=this.options;h.nodeStream(s)&&s.destroy()}this._request&&this._request.destroy(),e!==null&&!h.undefined(e)&&!(e instanceof R)&&(e=new R(e.message,e,this)),r(e)}pipe(e,r){return e instanceof Oe.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof Oe.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:r}=e,s=!h.undefined(e.form),n=!h.undefined(e.json),i=!h.undefined(e.body),o=hc.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=o,s||n||i){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let a=!h.string(r["content-type"]);if(i){if(Z(e.body)){let f=new Fe(e.body);a&&(r["content-type"]=f.headers["Content-Type"]),r["content-length"]=f.headers["Content-Length"],e.body=f.encode()}me(e.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(s){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:f}=e;e.form=void 0,e.body=new st.URLSearchParams(f).toString()}else{a&&(r["content-type"]="application/json");let{json:f}=e;e.json=void 0,e.body=e.stringifyJson(f)}let u=await Pt(e.body,e.headers);h.undefined(r["content-length"])&&h.undefined(r["transfer-encoding"])&&!o&&!h.undefined(u)&&(r["content-length"]=String(u))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:s}=r;this._nativeResponse=e,r.decompress&&(e=(0,Bn.default)(e));let n=e.statusCode,i=e;i.statusMessage=i.statusMessage?i.statusMessage:Oe.default.STATUS_CODES[n],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,i.ok=re(i),this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{this._aborted=!0,e.destroy(),this._beforeError(new ie(a,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new ie({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(h.object(r.cookieJar)&&o){let a=o.map(async u=>r.cookieJar.setCookie(u,s.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>{try{await u}catch{}}));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&uc.has(n)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new Re(this));return}this._request=void 0;let a=new q(void 0,void 0,this.options);(n===303&&a.method!=="GET"&&a.method!=="HEAD"||a.methodRewriting)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let f=rt.Buffer.from(e.headers.location,"binary").toString(),y=new st.URL(f,s);if(!tt(s)&&tt(y)){this._beforeError(new R("Cannot redirect to UNIX socket",{},this));return}y.hostname!==s.hostname||y.port!==s.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(y.username=a.username,y.password=a.password),this.redirectUrls.push(y),a.prefixUrl="",a.url=y;for(let _ of a.hooks.beforeRedirect)await _(a,i);this.emit("redirect",a,i),this.options=a,await this._makeRequest()}catch(f){this._beforeError(f);return}return}if(r.isStream&&r.throwHttpErrors&&!re(i)){this._beforeError(new M(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let u in e.headers){let f=r.decompress?u!=="content-encoding":!0,y=e.headers[u];f&&a.setHeader(u,y)}a.statusCode=n}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,$n.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:s,url:n}=r;gr(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=kt(e,s,n);let i=r.cache?"cacheableResponse":"response";e.once(i,o=>{this._onResponse(o)}),e.once("error",o=>{this._aborted=!0,e.destroy(),o=o instanceof ge?new Ae(o,this.timings,this):new R(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=ye(e,this,fc),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,s)=>{super.write(e,n=>{if(n){s(n);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;h.nodeStream(e)?e.pipe(r):h.generator(e)||h.asyncGenerator(e)?(async()=>{try{for await(let s of e)await this._asyncWrite(s);super.end()}catch(s){this._beforeError(s)}})():h.undefined(e)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(e,void 0,()=>{}),r.end())}_prepareCache(e){ir.has(e)||ir.set(e,new ar.default((r,s)=>{let n=r._request(r,s);return h.promise(n)&&(n.once=(i,o)=>{if(i==="error")(async()=>{try{await n}catch(a){o(a)}})();else if(i==="abort")(async()=>{try{(await n).once("abort",o)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${i}`);return n}),n},e))}async _createCacheableRequest(e,r){return new Promise((s,n)=>{Object.assign(r,At(e));let i,o=ir.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,i){let u=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",u),u(),(await i).emit("cacheableResponse",a)}s(a)});o.once("error",n),o.once("request",async a=>{i=a,s(i)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:s,password:n}=e,i=e.cookieJar;for(let f in r)if(h.undefined(r[f]))delete r[f];else if(h.null_(r[f]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${f}\` header`);if(e.decompress&&h.undefined(r["accept-encoding"])&&(r["accept-encoding"]=cc?"gzip, deflate, br":"gzip, deflate"),s||n){let f=rt.Buffer.from(`${s}:${n}`).toString("base64");r.authorization=`Basic ${f}`}if(i){let f=await i.getCookieString(e.url.toString());h.nonEmptyString(f)&&(r.cookie=f)}e.prefixUrl="";let o;for(let f of e.hooks.beforeRequest){let y=await f(e);if(!h.undefined(y)){o=()=>y;break}}o||(o=e.getRequestFunction());let a=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._prepareCache(e.cache));let u=e.cache?this._createCacheableRequest:o;try{let f=u(a,this._requestOptions);h.promise(f)&&(f=await f),h.undefined(f)&&(f=e.getFallbackRequestFunction()(a,this._requestOptions),h.promise(f)&&(f=await f)),zn(f)?this._onRequest(f):this.writable?(this.once("finish",()=>{this._onResponse(f)}),this._sendBody()):this._onResponse(f)}catch(f){throw f instanceof ar.default.CacheError?new ke(f,this):f}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new R(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,s){!this._request||this._request.destroyed||this._request.write(e,r,n=>{if(!n){this._uploadedSize+=rt.Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}s(n)})}get ip(){var e;return(e=this.socket)==null?void 0:e.remoteAddress}get isAborted(){return this._aborted}get socket(){var e;return((e=this._request)==null?void 0:e.socket)??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){var e;return(e=this._request)==null?void 0:e.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){var e;return(e=this._request)==null?void 0:e.reusedSocket}};var nt=class extends R{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var dc=["request","response","redirect","uploadProgress","downloadProgress"];function it(t){let e,r,s,n=new Fn.EventEmitter,i=new U((a,u,f)=>{f(()=>{e.destroy()}),f.shouldReject=!1,f(()=>{u(new nt(e))});let y=_=>{var d;f(()=>{});let b=t??new z(void 0,void 0,s);b.retryCount=_,b._noPipe=!0,e=b,b.once("response",async m=>{let x=(m.headers["content-encoding"]??"").toLowerCase(),C=x==="gzip"||x==="deflate"||x==="br",{options:w}=b;if(C&&!w.decompress)m.body=m.rawBody;else try{m.body=nr(m,w.responseType,w.parseJson,w.encoding)}catch(T){if(m.body=m.rawBody.toString(),re(m)){b._beforeError(T);return}}try{let T=w.hooks.afterResponse;for(let[k,v]of T.entries())if(m=await v(m,async Q=>{throw w.merge(Q),w.prefixUrl="",Q.url&&(w.url=Q.url),w.hooks.afterResponse=w.hooks.afterResponse.slice(0,k),new qe(b)}),!(h.object(m)&&h.number(m.statusCode)&&!h.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(T){b._beforeError(T);return}if(r=m,!re(m)){b._beforeError(new M(m));return}b.destroy(),a(b.options.resolveBodyOnly?m.body:m)});let g=m=>{if(i.isCanceled)return;let{options:x}=b;if(m instanceof M&&!x.throwHttpErrors){let{response:C}=m;b.destroy(),a(b.options.resolveBodyOnly?C.body:C);return}u(m)};b.once("error",g);let S=(d=b.options)==null?void 0:d.body;b.once("retry",(m,x)=>{t=void 0;let C=b.options.body;if(S===C&&h.nodeStream(C)){x.message="Cannot retry with consumed body stream",g(x);return}s=b.options,y(m)}),ye(b,n,dc),h.undefined(t)&&b.flush()};y(0)});i.on=(a,u)=>(n.on(a,u),i);let o=a=>{let u=(async()=>{await i;let{options:f}=r.request;return nr(r,a,f.parseJson,f.encoding)})();return Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)),u};return i.json=()=>{if(e.options){let{headers:a}=e.options;!e.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}var lc=async t=>new Promise(e=>{setTimeout(e,t)}),pc=t=>h.function_(t),mc=["get","post","put","patch","head","delete"],Mn=t=>{t={options:new q(void 0,void 0,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults},Object.defineProperty(t,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let e=(s,n,i=t.options)=>{let o=new z(s,n,i),a,u=_=>(o.options=_,o._noPipe=!_.isStream,o.flush(),_.isStream?o:(a||(a=it(o)),a)),f=0,y=_=>{let g=(t.handlers[f++]??u)(_,y);if(h.promise(g)&&!o.options.isStream&&(a||(a=it(o)),g!==a)){let S=Object.getOwnPropertyDescriptors(a);for(let d in S)d in g&&delete S[d];Object.defineProperties(g,S),g.cancel=a.cancel}return g};return y(o.options)};e.extend=(...s)=>{let n=new q(void 0,void 0,t.options),i=[...t.handlers],o;for(let a of s)pc(a)?(n.merge(a.defaults.options),i.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(n.merge(a),a.handlers&&i.push(...a.handlers),o=a.mutableDefaults);return Mn({options:n,handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(s,n){let i=new q(s,n,t.options);i.resolveBodyOnly=!1;let{pagination:o}=i;l.function_(o.transform),l.function_(o.shouldContinue),l.function_(o.filter),l.function_(o.paginate),l.number(o.countLimit),l.number(o.requestLimit),l.number(o.backoff);let a=[],{countLimit:u}=o,f=0;for(;f<o.requestLimit;){f!==0&&await lc(o.backoff);let y=await e(void 0,void 0,i),_=await o.transform(y),b=[];l.array(_);for(let S of _)if(o.filter({item:S,currentItems:b,allItems:a})&&(!o.shouldContinue({item:S,currentItems:b,allItems:a})||(yield S,o.stackAllItems&&a.push(S),b.push(S),--u<=0)))return;let g=o.paginate({response:y,currentItems:b,allItems:a});if(g===!1)return;g===y.request.options?i=y.request.options:(i.merge(g),l.any([h.urlInstance,h.undefined],g.url),g.url!==void 0&&(i.prefixUrl="",i.url=g.url)),f++}};e.paginate=r,e.paginate.all=async(s,n)=>{let i=[];for await(let o of r(s,n))i.push(o);return i},e.paginate.each=r,e.stream=(s,n)=>e(s,{...n,isStream:!0});for(let s of mc)e[s]=(n,i)=>e(n,{...i,method:s}),e.stream[s]=(n,i)=>e(n,{...i,method:s,isStream:!0});return t.mutableDefaults||(Object.freeze(t.handlers),t.options.freeze()),Object.defineProperty(e,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!0}),e},Vn=Mn;var yc={options:new q,handlers:[],mutableDefaults:!1},gc=Vn(yc),Wn=gc;async function bc(){let t=await Wn("https://zenquotes.io/api/random"),e=JSON.parse(t.body);console.log(e[0].q)}bc().catch(t=>{console.error(t),process.exit(1)});
metadata:
  labels:
    self-cleanup: edd1a4
  name: my-chart-nodescriptjob-code-c8951a11
---
apiVersion: batch/v1
kind: Job
metadata:
  annotations:
    wheatstalk.cdk8s-node-script/asset-hash: 4dbc685b95f90acc91441eaeae35a95fcfde5ab608488341322fc189deec3ab6
  labels:
    self-cleanup: edd1a4
  name: my-chart-nodescriptjob-job-c86c9ed8
spec:
  template:
    metadata:
      labels:
        wheatstalk.cdk8s-node-script/job: "true"
    spec:
      containers:
        - args:
            - index.js
          image: wheatstalk/cdk8s-node-script:14
          name: script
          volumeMounts:
            - mountPath: /script
              name: bundled
          workingDir: /script
      restartPolicy: OnFailure
      volumes:
        - configMap:
            name: my-chart-nodescriptjob-code-c8951a11
          name: bundled
---
apiVersion: v1
kind: ConfigMap
data:
  index.js: |
    "use strict";var Jn=Object.create;var hr=Object.defineProperty;var Kn=Object.getOwnPropertyDescriptor;var Qn=Object.getOwnPropertyNames;var Yn=Object.getPrototypeOf,Xn=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Zn=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Qn(e))!Xn.call(t,n)&&n!==r&&hr(t,n,{get:()=>e[n],enumerable:!(s=Kn(e,n))||s.enumerable});return t};var L=(t,e,r)=>(r=t!=null?Jn(Yn(t)):{},Zn(e||!t||!t.__esModule?hr(r,"default",{value:t,enumerable:!0}):r,t));var lr=E((ct,ht)=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});function li(t){return t.encrypted}var at=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let s=typeof r.connect=="function",n=typeof r.secureConnect=="function",i=typeof r.close=="function",o=()=>{s&&r.connect(),li(t)&&n&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),i&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&i&&r.close(t._hadError)};ct.default=at;ht.exports=at;ht.exports.default=at});var wr=E((Cc,_r)=>{"use strict";var mi="text/plain",yi="us-ascii",br=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),gi=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:s,data:n,hash:i}=r.groups,o=s.split(";");i=e?"":i;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let u=(o.shift()||"").toLowerCase(),y=[...o.map(_=>{let[b,g=""]=_.split("=").map(S=>S.trim());return b==="charset"&&(g=g.toLowerCase(),g===yi)?"":`${b}${g?`=${g}`:""}`}).filter(Boolean)];return a&&y.push("base64"),(y.length!==0||u&&u!==mi)&&y.unshift(u),`data:${y.join(";")},${a?n.trim():n}${i?`#${i}`:""}`},bi=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return gi(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let n=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),e.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),e.stripAuthentication&&(n.username="",n.password=""),e.stripHash?n.hash="":e.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname&&(n.pathname=n.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),a=o[o.length-1];br(a,e.removeDirectoryIndex)&&(o=o.slice(0,o.length-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...n.searchParams.keys()])br(o,e.removeQueryParameters)&&n.searchParams.delete(o);e.removeQueryParameters===!0&&(n.search=""),e.sortQueryParameters&&n.searchParams.sort(),e.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=t;return t=n.toString(),!e.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};_r.exports=bi});var Sr=E((Oc,xr)=>{xr.exports=Er;function Er(t,e){if(t&&e)return Er(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(s){r[s]=t[s]}),r;function r(){for(var s=new Array(arguments.length),n=0;n<s.length;n++)s[n]=arguments[n];var i=t.apply(this,s),o=s[s.length-1];return typeof i=="function"&&i!==o&&Object.keys(o).forEach(function(a){i[a]=o[a]}),i}}});var ft=E((Pc,ut)=>{var Tr=Sr();ut.exports=Tr(je);ut.exports.strict=Tr(Cr);je.proto=je(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return je(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Cr(this)},configurable:!0})});function je(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Cr(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Rr=E((Rc,Pr)=>{var _i=ft(),wi=function(){},Ei=function(t){return t.setHeader&&typeof t.abort=="function"},xi=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},Or=function(t,e,r){if(typeof e=="function")return Or(t,null,e);e||(e={}),r=_i(r||wi);var s=t._writableState,n=t._readableState,i=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||f()},f=function(){o=!1,i||r.call(t)},y=function(){i=!1,o||r.call(t)},_=function(m){r.call(t,m?new Error("exited with error code: "+m):null)},b=function(m){r.call(t,m)},g=function(){process.nextTick(S)},S=function(){if(!a){if(i&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"));if(o&&!(s&&s.ended&&!s.destroyed))return r.call(t,new Error("premature close"))}},d=function(){t.req.on("finish",f)};return Ei(t)?(t.on("complete",f),t.on("abort",g),t.req?d():t.on("request",d)):o&&!s&&(t.on("end",u),t.on("close",u)),xi(t)&&t.on("exit",_),t.on("end",y),t.on("finish",f),e.error!==!1&&t.on("error",b),t.on("close",g),function(){a=!0,t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",d),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("exit",_),t.removeListener("end",y),t.removeListener("error",b),t.removeListener("close",g)}};Pr.exports=Or});var qr=E((kc,Ar)=>{var Si=ft(),Ti=Rr(),dt=require("fs"),ae=function(){},Ci=/^v?\.0/.test(process.version),He=function(t){return typeof t=="function"},Oi=function(t){return!Ci||!dt?!1:(t instanceof(dt.ReadStream||ae)||t instanceof(dt.WriteStream||ae))&&He(t.close)},Pi=function(t){return t.setHeader&&He(t.abort)},Ri=function(t,e,r,s){s=Si(s);var n=!1;t.on("close",function(){n=!0}),Ti(t,{readable:e,writable:r},function(o){if(o)return s(o);n=!0,s()});var i=!1;return function(o){if(!n&&!i){if(i=!0,Oi(t))return t.close(ae);if(Pi(t))return t.abort();if(He(t.destroy))return t.destroy();s(o||new Error("stream was destroyed"))}}},kr=function(t){t()},ki=function(t,e){return t.pipe(e)},Ai=function(){var t=Array.prototype.slice.call(arguments),e=He(t[t.length-1]||ae)&&t.pop()||ae;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,s=t.map(function(n,i){var o=i<t.length-1,a=i>0;return Ri(n,o,a,function(u){r||(r=u),u&&s.forEach(kr),!o&&(s.forEach(kr),e(r))})});return t.reduce(ki)};Ar.exports=Ai});var Hr=E((Ac,jr)=>{"use strict";var{PassThrough:qi}=require("stream");jr.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new qi({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var Lr=E((qc,X)=>{"use strict";var{constants:ji}=require("buffer"),Hi=qr(),Li=Hr(),Le=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ie(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s;return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=ji.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};s=Hi(t,Li(e),a=>{if(a){o(a);return}n()}),s.on("data",()=>{s.getBufferedLength()>r&&o(new Le)})}),s.getBufferedValue()}X.exports=Ie;X.exports.default=Ie;X.exports.buffer=(t,e)=>Ie(t,{...e,encoding:"buffer"});X.exports.array=(t,e)=>Ie(t,{...e,array:!0});X.exports.MaxBufferError=Le});var vr=E((Hc,Ir)=>{"use strict";var Ii=new Set([200,203,204,206,300,301,404,405,410,414,501]),vi=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Ni=new Set([500,502,503,504]),Di={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},zi={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function V(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Ui(t){return t?Ni.has(t.status):!0}function lt(t){let e={};if(!t)return e;let r=t.trim().split(/\s*,\s*/);for(let s of r){let[n,i]=s.split(/\s*=\s*/,2);e[n]=i===void 0?!0:i.replace(/^"|"$/g,"")}return e}function Bi(t){let e=[];for(let r in t){let s=t[r];e.push(s===!0?r:r+"="+s)}if(!!e.length)return e.join(", ")}Ir.exports=class{constructor(e,r,{shared:s,cacheHeuristic:n,immutableMinTimeToLive:i,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=s!==!1,this._cacheHeuristic=n!==void 0?n:.1,this._immutableMinTtl=i!==void 0?i:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=lt(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=lt(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Bi(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&vi.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Ii.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=lt(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let s of r)if(e.headers[s]!==this._reqHeaders[s])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let s in e)Di[s]||(r[s]=e[s]);if(e.connection){let s=e.connection.trim().split(/\s*,\s*/);for(let n of s)delete r[n]}if(r.warning){let s=r.warning.split(/,/).filter(n=>!/^\s*1[0-9][0-9]/.test(n));s.length?r.warning=s.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return V(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return V(this._rescc["s-maxage"])}if(this._rescc["max-age"])return V(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let s=Date.parse(this._resHeaders.expires);return Number.isNaN(s)||s<r?0:Math.max(e,(s-r)/1e3)}if(this._resHeaders["last-modified"]){let s=Date.parse(this._resHeaders["last-modified"]);if(isFinite(s)&&r>s)return Math.max(e,(r-s)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+V(this._rescc["stale-if-error"]),s=e+V(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,s)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+V(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+V(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let n=r["if-none-match"].split(/,/).filter(i=>!/^\s*W\//.test(i));n.length?r["if-none-match"]=n.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Ui(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let s=!1;if(r.status!==void 0&&r.status!=304?s=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?s=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?s=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?s=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(s=!0),!s)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let n={};for(let o in this._resHeaders)n[o]=o in r.headers&&!zi[o]?r.headers[o]:this._resHeaders[o];let i=Object.assign({},r,{status:this._status,method:this._method,headers:n});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var pt=E((Lc,Nr)=>{"use strict";Nr.exports=t=>{let e={};for(let[r,s]of Object.entries(t))e[r.toLowerCase()]=s;return e}});var zr=E((Ic,Dr)=>{"use strict";var $i=require("stream").Readable,Fi=pt(),mt=class extends $i{constructor(e,r,s,n){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(s instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Fi(r),this.body=s,this.url=n}_read(){this.push(this.body),this.push(null)}};Dr.exports=mt});var Br=E((vc,Ur)=>{"use strict";var Mi=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];Ur.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(Mi));for(let s of r)s in e||(e[s]=typeof t[s]=="function"?t[s].bind(t):t[s])}});var Fr=E((Nc,$r)=>{"use strict";var Vi=require("stream").PassThrough,Wi=Br(),Gi=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new Vi;return Wi(t,e),t.pipe(e)};$r.exports=Gi});var gt=E(yt=>{yt.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",s=Array.isArray(e);r=s?"[":"{";var n=!0;for(var i in e){var o=typeof e[i]=="function"||!s&&typeof e[i]>"u";Object.hasOwnProperty.call(e,i)&&!o&&(n||(r+=","),n=!1,s?e[i]==null?r+="null":r+=t(e[i]):e[i]!==void 0&&(r+=t(i)+":"+t(e[i])))}return r+=s?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};yt.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Vr=E((zc,Mr)=>{"use strict";Mr.exports=(t={},e={})=>{let r={...t.params||{},...e.params||{}};return{...t,...e,...Object.keys(r).length?{params:r}:{}}}});var Qr=E((Uc,Ne)=>{"use strict";var{promisify:Jr}=require("util"),ve=gt(),Kr=require("zlib"),Wr=Vr(),Ji=Jr(Kr.brotliCompress),Ki=Jr(Kr.brotliDecompress),Gr=t=>t,Qi=({enable:t=!0,serialize:e=ve.stringify,deserialize:r=ve.parse,compressOptions:s,decompressOptions:n}={})=>t?{serialize:e,deserialize:r,compress:async(i,o={})=>{if(i===void 0)return i;let a=e(i);return Ji(a,Wr(s,o))},decompress:async(i,o={})=>i===void 0?i:r(await Ki(i,Wr(n,o)))}:{serialize:e,deserialize:r,decompress:Gr,compress:Gr};Ne.exports=Qi;Ne.exports.stringify=ve.stringify;Ne.exports.parse=ve.parse});var es=E((Bc,Zr)=>{"use strict";var Yi=require("events"),Yr=gt(),Xi=Qr(),Zi=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},Xr=["sqlite","postgres","mysql","mongo","redis","tiered"],bt=class extends Yi{constructor(e,{emitErrors:r=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:Yr.stringify,deserialize:Yr.parse,...typeof e=="string"?{uri:e}:e,...s},!this.opts.store){let i={...this.opts};this.opts.store=Zi(i)}if(this.opts.compress){let i=Xi(this.opts.compress.opts);this.opts.serialize=async({value:o,expires:a})=>i.serialize({value:await i.compress(o),expires:a}),this.opts.deserialize=async o=>{let{value:a,expires:u}=i.deserialize(o);return{value:await i.decompress(a),expires:u}}}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",i=>this.emit("error",i)),this.opts.store.namespace=this.opts.namespace;let n=i=>async function*(){for await(let[o,a]of typeof i=="function"?i(this.opts.store.namespace):i){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=n(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=n(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Xr.includes(this.opts.store.opts.dialect)||Xr.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:s}=this.opts,n=Array.isArray(e),i=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&s.getMany===void 0){let o=[];for(let a of i)o.push(Promise.resolve().then(()=>s.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(o).then(a=>{let u=[];for(let f of a)u.push(f.value);return u.every(f=>f===void 0)?[]:u})}return Promise.resolve().then(()=>n?s.getMany(i):s.get(i)).then(o=>typeof o=="string"?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(n){let a=[];if(o.length===0)return[];for(let u of o){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a.every(u=>u===void 0)?[]:a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,s){let n=this._getKeyPrefix(e);typeof s>"u"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:i}=this.opts;return Promise.resolve().then(()=>{let o=typeof s=="number"?Date.now()+s:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>i.set(n,o,s)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let n=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let i=[];for(let o of n)i.push(r.delete(o));return Promise.allSettled(i).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(n))}let s=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(s))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:s}=this.opts;return Promise.resolve().then(async()=>typeof s.has=="function"?s.has(r):await s.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};Zr.exports=bt});var ss=E(($c,rs)=>{"use strict";var eo=require("events"),De=require("url"),to=wr(),ro=Lr(),_t=vr(),ts=zr(),so=pt(),no=Fr(),io=es(),I=class{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new io({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,s)=>{let n;if(typeof r=="string")n=wt(De.parse(r)),r={};else if(r instanceof De.URL)n=wt(De.parse(r.toString())),r={};else{let[_,...b]=(r.path||"").split("?"),g=b.length>0?`?${b.join("?")}`:"";n=wt({...r,pathname:_,search:g})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...oo(n)},r.headers=so(r.headers);let i=new eo,o=to(De.format(n),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${o}`,u=!1,f=!1,y=_=>{f=!0;let b=!1,g,S=new Promise(m=>{g=()=>{b||(b=!0,m())}}),d=m=>{if(u&&!_.forceRefresh){m.status=m.statusCode;let C=_t.fromObject(u.cachePolicy).revalidatedPolicy(_,m);if(!C.modified){let w=C.policy.responseHeaders();m=new ts(u.statusCode,w,u.body,u.url),m.cachePolicy=C.policy,m.fromCache=!0}}m.fromCache||(m.cachePolicy=new _t(_,m,_),m.fromCache=!1);let x;_.cache&&m.cachePolicy.storable()?(x=no(m),(async()=>{try{let C=ro.buffer(m);if(await Promise.race([S,new Promise(v=>m.once("end",v))]),b)return;let w=await C,T={cachePolicy:m.cachePolicy.toObject(),url:m.url,statusCode:m.fromCache?u.statusCode:m.statusCode,body:w},k=_.strictTtl?m.cachePolicy.timeToLive():void 0;_.maxTtl&&(k=k?Math.min(k,_.maxTtl):_.maxTtl),await this.cache.set(a,T,k)}catch(C){i.emit("error",new I.CacheError(C))}})()):_.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(C){i.emit("error",new I.CacheError(C))}})(),i.emit("response",x||m),typeof s=="function"&&s(x||m)};try{let m=e(_,d);m.once("error",g),m.once("abort",g),i.emit("request",m)}catch(m){i.emit("error",new I.RequestError(m))}};return(async()=>{let _=async g=>{await Promise.resolve();let S=g.cache?await this.cache.get(a):void 0;if(typeof S>"u")return y(g);let d=_t.fromObject(S.cachePolicy);if(d.satisfiesWithoutRevalidation(g)&&!g.forceRefresh){let m=d.responseHeaders(),x=new ts(S.statusCode,m,S.body,S.url);x.cachePolicy=d,x.fromCache=!0,i.emit("response",x),typeof s=="function"&&s(x)}else u=S,g.headers=d.revalidationHeaders(g),y(g)},b=g=>i.emit("error",new I.CacheError(g));this.cache.once("error",b),i.on("response",()=>this.cache.removeListener("error",b));try{await _(r)}catch(g){r.automaticFailover&&!f&&y(r),i.emit("error",new I.CacheError(g))}})(),i}}};function oo(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function wt(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}I.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};I.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};rs.exports=I});var is=E((Vc,ns)=>{"use strict";var ao=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];ns.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(ao)),s={};for(let n of r)n in e||(s[n]={get(){let i=t[n];return typeof i=="function"?i.bind(t):i},set(i){t[n]=i},enumerable:!0,configurable:!1});return Object.defineProperties(e,s),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var as=E((Wc,os)=>{"use strict";var{Transform:co,PassThrough:ho}=require("stream"),Et=require("zlib"),uo=is();os.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof Et.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let s=!0,n=new co({transform(a,u,f){s=!1,f(null,a)},flush(a){a()}}),i=new ho({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),o=r?Et.createBrotliDecompress():Et.createUnzip();return o.once("error",a=>{if(s&&!t.readable){i.end();return}i.destroy(a)}),uo(t,i),t.pipe(n).pipe(o).pipe(i),i}});var hs=E((Gc,cs)=>{"use strict";var{PassThrough:fo}=require("stream");cs.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,s=r==="buffer",n=!1;e?n=!(r||s):r=r||"utf8",s&&(r=null);let i=new fo({objectMode:n});r&&i.setEncoding(r);let o=0,a=[];return i.on("data",u=>{a.push(u),n?o=a.length:o+=u.length}),i.getBufferedValue=()=>e?a:s?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var us=E((Jc,ce)=>{"use strict";var{constants:lo}=require("buffer"),po=require("stream"),{promisify:mo}=require("util"),yo=hs(),go=mo(po.pipeline),ze=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function xt(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,s=yo(e);return await new Promise((n,i)=>{let o=a=>{a&&s.getBufferedLength()<=lo.MAX_LENGTH&&(a.bufferedData=s.getBufferedValue()),i(a)};(async()=>{try{await go(t,s),n()}catch(a){o(a)}})(),s.on("data",()=>{s.getBufferedLength()>r&&o(new ze)})}),s.getBufferedValue()}ce.exports=xt;ce.exports.buffer=(t,e)=>xt(t,{...e,encoding:"buffer"});ce.exports.array=(t,e)=>xt(t,{...e,array:!0});ce.exports.MaxBufferError=ze});var Ps=E((Ph,Ht)=>{"use strict";var{V4MAPPED:xo,ADDRCONFIG:So,ALL:Os,promises:{Resolver:Es},lookup:To}=require("dns"),{promisify:qt}=require("util"),Co=require("os"),ee=Symbol("cacheableLookupCreateConnection"),jt=Symbol("cacheableLookupInstance"),xs=Symbol("expires"),Oo=typeof Os=="number",Ss=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Po=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},Ts=()=>{let t=!1,e=!1;for(let r of Object.values(Co.networkInterfaces()))for(let s of r)if(!s.internal&&(s.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},Ro=t=>Symbol.iterator in t,Ve=t=>t.catch(e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT")return[];throw e}),Cs={ttl:!0},ko={all:!0},Ao={all:!0,family:4},qo={all:!0,family:6},We=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:s=3600,errorTtl:n=.15,resolver:i=new Es,lookup:o=To}={}){if(this.maxTtl=r,this.errorTtl=n,this._cache=e,this._resolver=i,this._dnsLookup=o&&qt(o),this._resolver instanceof Es?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=qt(this._resolver.resolve4.bind(this._resolver)),this._resolve6=qt(this._resolver.resolve6.bind(this._resolver))),this._iface=Ts(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=s,s>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},s*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,s){if(typeof r=="function"?(s=r,r={}):typeof r=="number"&&(r={family:r}),!s)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(n=>{r.all?s(null,n):s(null,n.address,n.family,n.expires,n.ttl)},s)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let s=await this.query(e);if(r.family===6){let n=s.filter(i=>i.family===6);r.hints&xo&&(Oo&&r.hints&Os||n.length===0)?Po(s):s=n}else r.family===4&&(s=s.filter(n=>n.family===4));if(r.hints&So){let{_iface:n}=this;s=s.filter(i=>i.family===6?n.has6:n.has4)}if(s.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return r.all?s:s[0]}async query(e){let r=await this._cache.get(e);if(!r){let s=this._pending[e];if(s)r=await s;else{let n=this.queryAndCache(e);this._pending[e]=n;try{r=await n}finally{delete this._pending[e]}}}return r=r.map(s=>({...s})),r}async _resolve(e){let[r,s]=await Promise.all([Ve(this._resolve4(e,Cs)),Ve(this._resolve6(e,Cs))]),n=0,i=0,o=0,a=Date.now();for(let u of r)u.family=4,u.expires=a+u.ttl*1e3,n=Math.max(n,u.ttl);for(let u of s)u.family=6,u.expires=a+u.ttl*1e3,i=Math.max(i,u.ttl);return r.length>0?s.length>0?o=Math.min(n,i):o=n:o=i,{entries:[...r,...s],cacheTtl:o}}async _lookup(e){try{let[r,s]=await Promise.all([Ve(this._dnsLookup(e,Ao)),Ve(this._dnsLookup(e,qo))]);return{entries:[...r,...s],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,s){if(this.maxTtl>0&&s>0){s=Math.min(s,this.maxTtl)*1e3,r[xs]=Date.now()+s;try{await this._cache.set(e,r,s)}catch(n){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=n,i}}Ro(this._cache)&&this._tick(s)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,ko);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let s=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,s),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let s=1/0,n=Date.now();for(let[i,o]of this._cache){let a=o[xs];n>=a?this._cache.delete(i):a<s&&(s=a)}s!==1/0&&this._tick(s-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Ss(e),ee in e)throw new Error("CacheableLookup has been already installed");e[ee]=e.createConnection,e[jt]=this,e.createConnection=(r,s)=>("lookup"in r||(r.lookup=this.lookup),e[ee](r,s))}uninstall(e){if(Ss(e),e[ee]){if(e[jt]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[ee],delete e[ee],delete e[jt]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Ts(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};Ht.exports=We;Ht.exports.default=We});var It=E((Rh,Rs)=>{"use strict";var Lt=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[s,n]of this.oldCache.entries())this.onEviction(s,n);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};Rs.exports=Lt});var vt=E((kh,ks)=>{"use strict";ks.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...r)=>{let s=r.pop();t.__destroy(...r,async n=>{await Promise.resolve(),s(n)})};let e=r=>{Promise.resolve().then(()=>{t.emit("error",r)})};return t.once("error",e),Promise.resolve().then(()=>{t.off("error",e)}),t}});var J=E((Ah,Is)=>{"use strict";var{URL:As}=require("url"),jo=require("events"),Ho=require("tls"),Lo=require("http2"),Io=It(),vo=vt(),j=Symbol("currentStreamCount"),qs=Symbol("request"),H=Symbol("cachedOriginSet"),$=Symbol("gracefullyClosing"),Ge=Symbol("length"),js=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],No=(t,e,r)=>{let s=0,n=t.length;for(;s<n;){let i=s+n>>>1;r(t[i],e)?s=i+1:n=i}return s},Do=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,Nt=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];s[H].length>0&&s[H].length<e[H].length&&s[H].every(n=>e[H].includes(n))&&s[j]+e[j]<=e.remoteSettings.maxConcurrentStreams&&Ls(s)}},Hs=(t,e)=>{for(let r=0;r<t.length;r++){let s=t[r];if(e[H].length>0&&e[H].length<s[H].length&&e[H].every(n=>s[H].includes(n))&&e[j]+s[j]<=s.remoteSettings.maxConcurrentStreams)return Ls(e),!0}return!1},Ls=t=>{t[$]=!0,t[j]===0&&t.close()},F=class extends jo{constructor({timeout:e=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:s=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxEmptySessions=s,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new Io({maxSize:n})}get protocol(){return"https:"}normalizeOptions(e){let r="";for(let s=0;s<js.length;s++){let n=js[s];r+=":",e&&e[n]!==void 0&&(r+=e[n])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let e in this.queue)for(let r in this.queue[e]){let s=this.queue[e][r];s.completed||(s.completed=!0,s())}}_isBetterSession(e,r){return e>r}_accept(e,r,s,n){let i=0;for(;i<r.length&&e[j]<e.remoteSettings.maxConcurrentStreams;)r[i].resolve(e),i++;r.splice(0,i),r.length>0&&(this.getSession(s,n,r),r.length=0)}getSession(e,r,s){return new Promise((n,i)=>{Array.isArray(s)&&s.length>0?(s=[...s],n()):s=[{resolve:n,reject:i}];try{if(typeof e=="string")e=new As(e);else if(!(e instanceof As))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:y}=r,{hostname:_}=e;if(y&&_!==y)throw new Error(`Origin ${_} differs from servername ${y}`)}}catch(y){for(let _=0;_<s.length;_++)s[_].reject(y);return}let o=this.normalizeOptions(r),a=e.origin;if(o in this.sessions){let y=this.sessions[o],_=-1,b=-1,g;for(let S=0;S<y.length;S++){let d=y[S],m=d.remoteSettings.maxConcurrentStreams;if(m<_)break;if(!d[H].includes(a))continue;let x=d[j];x>=m||d[$]||d.destroyed||(g||(_=m),this._isBetterSession(x,b)&&(g=d,b=x))}if(g){this._accept(g,s,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...s);return}}else this.queue[o]={[Ge]:0};let u=()=>{o in this.queue&&this.queue[o][a]===f&&(delete this.queue[o][a],--this.queue[o][Ge]===0&&delete this.queue[o])},f=async()=>{this._sessionCount++;let y=`${a}:${o}`,_=!1,b;try{let g={...r};g.settings===void 0&&(g.settings=this.settings),g.session===void 0&&(g.session=this.tlsSessionCache.get(y)),b=await(g.createConnection||this.createConnection).call(this,e,g),g.createConnection=()=>b;let d=Lo.connect(e,g);d[j]=0,d[$]=!1;let m=()=>{let{socket:w}=d,T;return w.servername===!1?(w.servername=w.remoteAddress,T=d.originSet,w.servername=!1):T=d.originSet,T},x=()=>d[j]<d.remoteSettings.maxConcurrentStreams;d.socket.once("session",w=>{this.tlsSessionCache.set(y,w)}),d.once("error",w=>{for(let T=0;T<s.length;T++)s[T].reject(w);this.tlsSessionCache.delete(y)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(this._sessionCount--,_){this._emptySessionCount--;let w=this.sessions[o];w.length===1?delete this.sessions[o]:w.splice(w.indexOf(d),1)}else{u();let w=new Error("Session closed without receiving a SETTINGS frame");w.code="HTTP2WRAPPER_NOSETTINGS";for(let T=0;T<s.length;T++)s[T].reject(w)}this._processQueue()});let C=()=>{let w=this.queue[o];if(!w)return;let T=d[H];for(let k=0;k<T.length;k++){let v=T[k];if(v in w){let{listeners:Q,completed:Gn}=w[v],Pe=0;for(;Pe<Q.length&&x();)Q[Pe].resolve(d),Pe++;if(w[v].listeners.splice(0,Pe),w[v].listeners.length===0&&!Gn&&(delete w[v],--w[Ge]===0)){delete this.queue[o];break}if(!x())break}}};d.on("origin",()=>{d[H]=m()||[],d[$]=!1,Hs(this.sessions[o],d),!(d[$]||!x())&&(C(),x()&&Nt(this.sessions[o],d))}),d.once("remoteSettings",()=>{if(f.destroyed){let w=new Error("Agent has been destroyed");for(let T=0;T<s.length;T++)s[T].reject(w);d.destroy();return}if(d.setLocalWindowSize&&d.setLocalWindowSize(1024*1024*4),d[H]=m()||[],d.socket.encrypted){let w=d[H][0];if(w!==a){let T=new Error(`Requested origin ${a} does not match server ${w}`);for(let k=0;k<s.length;k++)s[k].reject(T);d.destroy();return}}u();{let w=this.sessions;if(o in w){let T=w[o];T.splice(No(T,d,Do),0,d)}else w[o]=[d]}_=!0,this._emptySessionCount++,this.emit("session",d),this._accept(d,s,a,r),d[j]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),d.on("remoteSettings",()=>{!x()||(C(),x()&&Nt(this.sessions[o],d))})}),d[qs]=d.request,d.request=(w,T)=>{if(d[$])throw new Error("The session is gracefully closing. No new streams are allowed.");let k=d[qs](w,T);return d.ref(),d[j]++===0&&this._emptySessionCount--,k.once("close",()=>{if(--d[j]===0&&(this._emptySessionCount++,d.unref(),this._emptySessionCount>this.maxEmptySessions||d[$])){d.close();return}d.destroyed||d.closed||x()&&!Hs(this.sessions[o],d)&&(Nt(this.sessions[o],d),C(),d[j]===0&&this._processQueue())}),k}}catch(g){u(),this._sessionCount--;for(let S=0;S<s.length;S++)s[S].reject(g)}};f.listeners=s,f.completed=!1,f.destroyed=!1,this.queue[o][a]=f,this.queue[o][Ge]++,this._processQueue()})}request(e,r,s,n){return new Promise((i,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{let u=a.request(s,n);vo(u),i(u)}catch(u){o(u)}}}])})}async createConnection(e,r){return F.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let s=e.port||443,n=e.hostname;typeof r.servername>"u"&&(r.servername=n);let i=Ho.connect(s,n,r);return r.socket&&(i._peername={family:void 0,address:void 0,port:s}),i}closeEmptySessions(e=Number.POSITIVE_INFINITY){let r=0,{sessions:s}=this;for(let n in s){let i=s[n];for(let o=0;o<i.length;o++){let a=i[o];if(a[j]===0&&(r++,a.close(),r>=e))return r}}return r}destroy(e){let{sessions:r,queue:s}=this;for(let n in r){let i=r[n];for(let o=0;o<i.length;o++)i[o].destroy(e)}for(let n in s){let i=s[n];for(let o in i)i[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};F.kCurrentStreamCount=j;F.kGracefullyClosing=$;Is.exports={Agent:F,globalAgent:new F}});var zt=E((qh,vs)=>{"use strict";var{Readable:zo}=require("stream"),Dt=class extends zo{constructor(e,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};vs.exports=Dt});var Ds=E((jh,Ns)=>{"use strict";Ns.exports=(t,e,r)=>{for(let s of r)t.on(s,(...n)=>e.emit(s,...n))}});var _e=E((Lh,zs)=>{"use strict";var K=(t,e,r)=>{zs.exports[e]=class extends t{constructor(...n){super(typeof r=="string"?r:r(n)),this.name=`${super.name} [${e}]`,this.code=e}}};K(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${s?"one of":"of"} type ${r}. Received ${typeof t[2]}`});K(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);K(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);K(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);K(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);K(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`);K(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var Bs=E((Ih,Us)=>{"use strict";Us.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var Ut=E((vh,$s)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:Uo}=_e(),Bo=Bs(),$o=/^[\^`\-\w!#$%&*+.|~]+$/;$s.exports=t=>{if(typeof t!="string"||!$o.test(t)&&!Bo(t))throw new Uo("Header name",t)}});var Bt=E((Nh,Fs)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:Fo,ERR_INVALID_CHAR:Mo}=_e(),Vo=/[^\t\u0020-\u007E\u0080-\u00FF]/;Fs.exports=(t,e)=>{if(typeof e>"u")throw new Fo(e,t);if(Vo.test(e))throw new Mo("header content",t)}});var Ws=E((Dh,Vs)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:Ms}=_e(),Wo={has(t,e){let r=t.session===void 0?t:t.session.socket;return e in t||e in r},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return t[e].bind(t);case"writable":case"destroyed":return t[e];case"readable":return t.destroyed?!1:t.readable;case"setTimeout":{let{session:r}=t;return r!==void 0?r.setTimeout.bind(r):t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new Ms;default:{let r=t.session===void 0?t:t.session.socket,s=r[e];return typeof s=="function"?s.bind(r):s}}},getPrototypeOf(t){return t.session!==void 0?Reflect.getPrototypeOf(t.session.socket):Reflect.getPrototypeOf(t)},set(t,e,r){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=r,!0;case"setTimeout":{let{session:s}=t;return s===void 0?t.setTimeout=r:s.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new Ms;default:{let s=t.session===void 0?t:t.session.socket;return s[e]=r,!0}}}};Vs.exports=Wo});var Vt=E((zh,Xs)=>{"use strict";var{URL:$t,urlToHttpOptions:Gs}=require("url"),Go=require("http2"),{Writable:Jo}=require("stream"),{Agent:Ko,globalAgent:Qo}=J(),Yo=zt(),Xo=Ds(),{ERR_INVALID_ARG_TYPE:Je,ERR_INVALID_PROTOCOL:Zo,ERR_HTTP_HEADERS_SENT:Js}=_e(),ea=Ut(),ta=Bt(),ra=Ws(),{HTTP2_HEADER_STATUS:Ks,HTTP2_HEADER_METHOD:Qs,HTTP2_HEADER_PATH:Ys,HTTP2_HEADER_AUTHORITY:we,HTTP2_METHOD_CONNECT:sa}=Go.constants,A=Symbol("headers"),te=Symbol("origin"),Ee=Symbol("session"),Ft=Symbol("options"),Ke=Symbol("flushedHeaders"),xe=Symbol("jobs"),Se=Symbol("pendingAgentPromise"),Mt=class extends Jo{constructor(e,r,s){if(super({autoDestroy:!1,emitClose:!1}),typeof e=="string"?e=Gs(new $t(e)):e instanceof $t?e=Gs(e):e={...e},typeof r=="function"||r===void 0?(s=r,r=e):r=Object.assign(e,r),r.h2session){if(this[Ee]=r.h2session,this[Ee].destroyed)throw new Error("The session has been closed already");this.protocol=this[Ee].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new Ko({maxEmptySessions:0});else if(typeof r.agent>"u"||r.agent===null)this.agent=Qo;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Je("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new Zo(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:n}=r;r.timeout=void 0,this[A]=Object.create(null),this[xe]=[],this[Se]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:i}=r;if(i)for(let a in i)this.setHeader(a,i[a]);r.auth&&!("authorization"in this[A])&&(this[A].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[Ft]=r,this[te]=new $t(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[te],this[Ft]).catch(()=>{})),n&&this.setTimeout(n),s&&this.once("response",s),this[Ke]=!1}get method(){return this[A][Qs]}set method(e){e&&(this[A][Qs]=e.toUpperCase())}get path(){let e=this.method==="CONNECT"?we:Ys;return this[A][e]}set path(e){if(e){let r=this.method==="CONNECT"?we:Ys;this[A][r]=e}}get host(){return this[te].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,s){if(this._mustNotHaveABody){s(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let n=()=>this._request.write(e,r,s);this._request?n():this[xe].push(n)}_final(e){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};this._request?r():this[xe].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(e,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[Se]}catch(s){this.aborted&&(e=s)}r(e)}async flushHeaders(){if(this[Ke]||this.destroyed)return;this[Ke]=!0;let e=this.method===sa,r=s=>{if(this._request=s,this.destroyed){s.destroy();return}e||Xo(s,this,["timeout","continue"]),s.once("error",i=>{this.destroy(i)}),s.once("aborted",()=>{let{res:i}=this;i?(i.aborted=!0,i.emit("aborted"),i.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let n=(i,o,a)=>{let u=new Yo(this.socket,s.readableHighWaterMark);this.res=u,u.url=`${this[te].origin}${this.path}`,u.req=this,u.statusCode=i[Ks],u.headers=i,u.rawHeaders=a,u.once("end",()=>{u.complete=!0,u.socket=null,u.connection=null}),e?(u.upgrade=!0,this.emit("connect",u,s,Buffer.alloc(0))?this.emit("close"):s.destroy()):(s.on("data",f=>{!u._dumped&&!u.push(f)&&s.pause()}),s.once("end",()=>{this.aborted||u.push(null)}),this.emit("response",u)||u._dump())};s.once("response",n),s.once("headers",i=>this.emit("information",{statusCode:i[Ks]})),s.once("trailers",(i,o,a)=>{let{res:u}=this;if(u===null){n(i,o,a);return}u.trailers=i,u.rawTrailers=a}),s.once("close",()=>{let{aborted:i,res:o}=this;if(o){i&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(s,ra);for(let i of this[xe])i();this.emit("socket",this.socket)};if(!(we in this[A])&&!e&&(this[A][we]=this[te].host),this[Ee])try{r(this[Ee].request(this[A]))}catch(s){this.destroy(s)}else{this.reusedSocket=!0;try{let s=this.agent.request(this[te],this[Ft],this[A]);this[Se]=s,r(await s),this[Se]=!1}catch(s){this[Se]=!1,this.destroy(s)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[A])}hasHeader(e){if(typeof e!="string")throw new Je("name","string",e);return Boolean(this[A][e.toLowerCase()])}getHeader(e){if(typeof e!="string")throw new Je("name","string",e);return this[A][e.toLowerCase()]}get headersSent(){return this[Ke]}removeHeader(e){if(typeof e!="string")throw new Je("name","string",e);if(this.headersSent)throw new Js("remove");delete this[A][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new Js("set");ea(e),ta(e,r);let s=e.toLowerCase();if(s==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}s==="host"&&this.method==="CONNECT"?this[A][we]=r:this[A][s]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let s=()=>this._request.setTimeout(e,r);return this._request?s():this[xe].push(s),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};Xs.exports=Mt});var en=E((Uh,Zs)=>{"use strict";var na=require("tls");Zs.exports=(t={},e=na.connect)=>new Promise((r,s)=>{let n=!1,i,o=async()=>{await u,i.off("timeout",a),i.off("error",s),t.resolveSocket?(r({alpnProtocol:i.alpnProtocol,socket:i,timeout:n}),n&&(await Promise.resolve(),i.emit("timeout"))):(i.destroy(),r({alpnProtocol:i.alpnProtocol,timeout:n}))},a=async()=>{n=!0,o()},u=(async()=>{try{i=await e(t,o),i.on("error",s),i.once("timeout",a)}catch(f){s(f)}})()})});var rn=E((Bh,tn)=>{"use strict";var{isIP:ia}=require("net"),oa=require("assert"),aa=t=>{if(t[0]==="["){let r=t.indexOf("]");return oa(r!==-1),t.slice(1,r)}let e=t.indexOf(":");return e===-1?t:t.slice(0,e)};tn.exports=t=>{let e=aa(t);return ia(e)?"":e}});var fn=E(($h,Te)=>{"use strict";var{URL:sn,urlToHttpOptions:nn}=require("url"),on=require("http"),Wt=require("https"),ca=en(),ha=It(),{Agent:ua,globalAgent:fa}=J(),da=Vt(),la=rn(),an=vt(),cn=new ha({maxSize:100}),pa=new Map,ma=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let s=()=>{t.emit("free",e,r)};e.on("free",s);let n=()=>{t.removeSocket(e,r)};e.on("close",n);let i=()=>{let{freeSockets:a}=t;for(let u of Object.values(a))if(u.includes(e)){e.destroy();return}};e.on("timeout",i);let o=()=>{t.removeSocket(e,r),e.off("close",n),e.off("free",s),e.off("timeout",i),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},hn=(t,e=new Map,r=void 0)=>async s=>{let n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!t.has(n)){if(e.has(n))return{alpnProtocol:(await e.get(n)).alpnProtocol};let{path:i}=s;s.path=s.socketPath;let o=ca(s,r);e.set(n,o);try{let a=await o;return t.set(n,a.alpnProtocol),e.delete(n),s.path=i,a}catch(a){throw e.delete(n),s.path=i,a}}return{alpnProtocol:t.get(n)}},un=hn(cn,pa);Te.exports=async(t,e,r)=>{if(typeof t=="string"?t=nn(new sn(t)):t instanceof sn?t=nn(t):t={...t},typeof e=="function"||e===void 0?(r=e,e=t):e=Object.assign(t,e),e.ALPNProtocols=e.ALPNProtocols||["h2","http/1.1"],!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let s=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||la(e.headers&&e.headers.host||e.host),e.port=e.port||(s?443:80),e._defaultAgent=s?Wt.globalAgent:on.globalAgent;let n=e.resolveProtocol||un,{agent:i}=e;if(i!==void 0&&i!==!1&&i.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(s){e.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:u}=await n(e);if(u){o&&o.destroy();let y=new Error(`Timed out resolving ALPN: ${e.timeout} ms`);throw y.code="ETIMEDOUT",y.ms=e.timeout,y}o&&e.createConnection&&(o.destroy(),o=void 0),delete e.resolveSocket;let f=a==="h2";if(i&&(i=f?i.http2:i.https,e.agent=i),i===void 0&&(i=f?fa:Wt.globalAgent),o)if(i===!1)o.destroy();else{let y=(f?ua:Wt.Agent).prototype.createConnection;i.createConnection===y?f?e._reuseSocket=o:ma(i,o,e):o.destroy()}if(f)return an(new da(e,r))}else i&&(e.agent=i.http);return an(on.request(e,r))};Te.exports.protocolCache=cn;Te.exports.resolveProtocol=un;Te.exports.createResolveProtocol=hn});var Gt=E((Fh,dn)=>{"use strict";var ya=require("stream"),ga=require("tls"),ba=new ga.TLSSocket(new ya.PassThrough)._handle._parentWrap.constructor;dn.exports=ba});var Kt=E((Mh,ln)=>{"use strict";var Jt=class extends Error{constructor(e){super(`The proxy server rejected the request with status code ${e}`),this.statusCode=e}};ln.exports=Jt});var mn=E((Vh,pn)=>{"use strict";var _a=(t,e,r)=>{if(!r.some(n=>typeof n==="string"?typeof e===n:e instanceof n)){let n=r.map(i=>typeof i=="string"?i:i.name);throw new TypeError(`Expected '${t}' to be a type of ${n.join(" or ")}, got ${typeof e}`)}};pn.exports=_a});var Qt=E((Wh,gn)=>{"use strict";var{URL:yn}=require("url"),Qe=mn();gn.exports=(t,e)=>{Qe("proxyOptions",e,["object"]),Qe("proxyOptions.headers",e.headers,["object","undefined"]),Qe("proxyOptions.raw",e.raw,["boolean","undefined"]),Qe("proxyOptions.url",e.url,[yn,"string"]);let r=new yn(e.url);t.proxyOptions={raw:!0,...e,headers:{...e.headers},url:r}}});var Ye=E((Gh,bn)=>{"use strict";bn.exports=t=>{let{username:e,password:r}=t.proxyOptions.url;if(e||r){let s=`${e}:${r}`,n=`Basic ${Buffer.from(s).toString("base64")}`;return{"proxy-authorization":n,authorization:n}}return{}}});var Sn=E((Jh,xn)=>{"use strict";var wa=require("tls"),Ea=require("http"),_n=require("https"),xa=Gt(),{globalAgent:Sa}=J(),Ta=Kt(),wn=Qt(),Ca=Ye(),En=(t,e,r)=>{(async()=>{try{let{proxyOptions:s}=t,{url:n,headers:i,raw:o}=s,a=await Sa.request(n,s,{...Ca(t),...i,":method":"CONNECT",":authority":`${e.host}:${e.port}`});a.once("error",r),a.once("response",u=>{let f=u[":status"];if(f!==200){r(new Ta(f));return}let y=t instanceof _n.Agent;if(o&&y){e.socket=a;let b=wa.connect(e);b.once("close",()=>{a.destroy()}),r(null,b);return}let _=new xa(a);_.encrypted=!1,_._handle.getpeername=b=>{b.family=void 0,b.address=void 0,b.port=void 0},r(null,_)})}catch(s){r(s)}})()},Yt=class extends Ea.Agent{constructor(e){super(e),wn(this,e.proxyOptions)}createConnection(e,r){En(this,e,r)}},Xt=class extends _n.Agent{constructor(e){super(e),wn(this,e.proxyOptions)}createConnection(e,r){En(this,e,r)}};xn.exports={HttpOverHttp2:Yt,HttpsOverHttp2:Xt}});var er=E((Kh,Tn)=>{"use strict";var{Agent:Oa}=J(),Pa=Gt(),Ra=Kt(),ka=Qt(),Zt=class extends Oa{constructor(e){super(e),ka(this,e.proxyOptions)}async createConnection(e,r){let s=`${e.hostname}:${e.port||443}`,[n,i]=await this._getProxyStream(s);if(i!==200)throw new Ra(i);if(this.proxyOptions.raw)r.socket=n;else{let o=new Pa(n);return o.encrypted=!1,o._handle.getpeername=a=>{a.family=void 0,a.address=void 0,a.port=void 0},o}return super.createConnection(e,r)}};Tn.exports=Zt});var On=E((Qh,Cn)=>{"use strict";var{globalAgent:Aa}=J(),qa=er(),ja=Ye(),Ha=t=>new Promise((e,r)=>{t.once("error",r),t.once("response",s=>{t.off("error",r),e(s[":status"])})}),tr=class extends qa{async _getProxyStream(e){let{proxyOptions:r}=this,s={...ja(this),...r.headers,":method":"CONNECT",":authority":e},n=await Aa.request(r.url,r,s),i=await Ha(n);return[n,i]}};Cn.exports=tr});var Rn=E((Yh,Pn)=>{"use strict";var La=require("http"),Ia=require("https"),va=er(),Na=Ye(),Da=t=>new Promise((e,r)=>{let s=(n,i,o)=>{i.unshift(o),t.off("error",r),e([i,n.statusCode])};t.once("error",r),t.once("connect",s)}),Xe=class extends va{async _getProxyStream(e){let{proxyOptions:r}=this,{url:s,headers:n}=this.proxyOptions,o=(s.protocol==="https:"?Ia:La).request({...r,hostname:s.hostname,port:s.port,path:e,headers:{...Na(this),...n,host:e},method:"CONNECT"}).end();return Da(o)}};Pn.exports={Http2OverHttp:Xe,Http2OverHttps:Xe}});var An=E((Xh,kn)=>{"use strict";var za=require("http2"),{Agent:Ua,globalAgent:Ba}=J(),rr=Vt(),$a=zt(),Fa=fn(),{HttpOverHttp2:Ma,HttpsOverHttp2:Va}=Sn(),Wa=On(),{Http2OverHttp:Ga,Http2OverHttps:Ja}=Rn(),Ka=Ut(),Qa=Bt(),Ya=(t,e,r)=>new rr(t,e,r),Xa=(t,e,r)=>{let s=new rr(t,e,r);return s.end(),s};kn.exports={...za,ClientRequest:rr,IncomingMessage:$a,Agent:Ua,globalAgent:Ba,request:Ya,get:Xa,auto:Fa,proxies:{HttpOverHttp2:Ma,HttpsOverHttp2:Va,Http2OverHttp2:Wa,Http2OverHttp:Ga,Http2OverHttps:Ja},validateHeaderName:Ka,validateHeaderValue:Qa}});var ur=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function ei(t){return ur.includes(t)}var ti=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...ur];function ri(t){return ti.includes(t)}var si=["null","undefined","string","number","bigint","boolean","symbol"];function ni(t){return si.includes(t)}function Y(t){return e=>typeof e===t}var{toString:ii}=Object.prototype,se=t=>{let e=ii.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&c.domElement(t))return"HTMLElement";if(ri(e))return e},O=t=>e=>se(e)===t;function c(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(c.observable(t))return"Observable";if(c.array(t))return"Array";if(c.buffer(t))return"Buffer";let e=se(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}c.undefined=Y("undefined");c.string=Y("string");var oi=Y("number");c.number=t=>oi(t)&&!c.nan(t);c.bigint=Y("bigint");c.function_=Y("function");c.null_=t=>t===null;c.class_=t=>c.function_(t)&&t.toString().startsWith("class ");c.boolean=t=>t===!0||t===!1;c.symbol=Y("symbol");c.numericString=t=>c.string(t)&&!c.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));c.array=(t,e)=>Array.isArray(t)?c.function_(e)?t.every(r=>e(r)):!0:!1;c.buffer=t=>{var e,r;return((r=(e=t==null?void 0:t.constructor)==null?void 0:e.isBuffer)==null?void 0:r.call(e,t))??!1};c.blob=t=>O("Blob")(t);c.nullOrUndefined=t=>c.null_(t)||c.undefined(t);c.object=t=>!c.null_(t)&&(typeof t=="object"||c.function_(t));c.iterable=t=>c.function_(t==null?void 0:t[Symbol.iterator]);c.asyncIterable=t=>c.function_(t==null?void 0:t[Symbol.asyncIterator]);c.generator=t=>c.iterable(t)&&c.function_(t==null?void 0:t.next)&&c.function_(t==null?void 0:t.throw);c.asyncGenerator=t=>c.asyncIterable(t)&&c.function_(t.next)&&c.function_(t.throw);c.nativePromise=t=>O("Promise")(t);var ai=t=>c.function_(t==null?void 0:t.then)&&c.function_(t==null?void 0:t.catch);c.promise=t=>c.nativePromise(t)||ai(t);c.generatorFunction=O("GeneratorFunction");c.asyncGeneratorFunction=t=>se(t)==="AsyncGeneratorFunction";c.asyncFunction=t=>se(t)==="AsyncFunction";c.boundFunction=t=>c.function_(t)&&!t.hasOwnProperty("prototype");c.regExp=O("RegExp");c.date=O("Date");c.error=O("Error");c.map=t=>O("Map")(t);c.set=t=>O("Set")(t);c.weakMap=t=>O("WeakMap")(t);c.weakSet=t=>O("WeakSet")(t);c.weakRef=t=>O("WeakRef")(t);c.int8Array=O("Int8Array");c.uint8Array=O("Uint8Array");c.uint8ClampedArray=O("Uint8ClampedArray");c.int16Array=O("Int16Array");c.uint16Array=O("Uint16Array");c.int32Array=O("Int32Array");c.uint32Array=O("Uint32Array");c.float32Array=O("Float32Array");c.float64Array=O("Float64Array");c.bigInt64Array=O("BigInt64Array");c.bigUint64Array=O("BigUint64Array");c.arrayBuffer=O("ArrayBuffer");c.sharedArrayBuffer=O("SharedArrayBuffer");c.dataView=O("DataView");c.enumCase=(t,e)=>Object.values(e).includes(t);c.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;c.urlInstance=t=>O("URL")(t);c.urlString=t=>{if(!c.string(t))return!1;try{return new URL(t),!0}catch{return!1}};c.truthy=t=>Boolean(t);c.falsy=t=>!t;c.nan=t=>Number.isNaN(t);c.primitive=t=>c.null_(t)||ni(typeof t);c.integer=t=>Number.isInteger(t);c.safeInteger=t=>Number.isSafeInteger(t);c.plainObject=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};c.typedArray=t=>ei(se(t));var ci=t=>c.safeInteger(t)&&t>=0;c.arrayLike=t=>!c.nullOrUndefined(t)&&!c.function_(t)&&ci(t.length);c.inRange=(t,e)=>{if(c.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(c.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var hi=1,ui=["innerHTML","ownerDocument","style","attributes","nodeValue"];c.domElement=t=>c.object(t)&&t.nodeType===hi&&c.string(t.nodeName)&&!c.plainObject(t)&&ui.every(e=>e in t);c.observable=t=>{var e,r;return t?t===((e=t[Symbol.observable])==null?void 0:e.call(t))||t===((r=t["@@observable"])==null?void 0:r.call(t)):!1};c.nodeStream=t=>c.object(t)&&c.function_(t.pipe)&&!c.observable(t);c.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;var fr=t=>e=>c.integer(e)&&Math.abs(e%2)===t;c.evenInteger=fr(0);c.oddInteger=fr(1);c.emptyArray=t=>c.array(t)&&t.length===0;c.nonEmptyArray=t=>c.array(t)&&t.length>0;c.emptyString=t=>c.string(t)&&t.length===0;var fi=t=>c.string(t)&&!/\S/.test(t);c.emptyStringOrWhitespace=t=>c.emptyString(t)||fi(t);c.nonEmptyString=t=>c.string(t)&&t.length>0;c.nonEmptyStringAndNotWhitespace=t=>c.string(t)&&!c.emptyStringOrWhitespace(t);c.emptyObject=t=>c.object(t)&&!c.map(t)&&!c.set(t)&&Object.keys(t).length===0;c.nonEmptyObject=t=>c.object(t)&&!c.map(t)&&!c.set(t)&&Object.keys(t).length>0;c.emptySet=t=>c.set(t)&&t.size===0;c.nonEmptySet=t=>c.set(t)&&t.size>0;c.emptyMap=t=>c.map(t)&&t.size===0;c.nonEmptyMap=t=>c.map(t)&&t.size>0;c.propertyKey=t=>c.any([c.string,c.number,c.symbol],t);c.formData=t=>O("FormData")(t);c.urlSearchParams=t=>O("URLSearchParams")(t);var dr=(t,e,r)=>{if(!c.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};c.any=(t,...e)=>(c.array(t)?t:[t]).some(s=>dr(Array.prototype.some,s,e));c.all=(t,...e)=>dr(Array.prototype.every,t,e);var p=(t,e,r,s={})=>{if(!t){let{multipleValues:n}=s,i=n?`received values of types ${[...new Set(r.map(o=>`\`${c(o)}\``))].join(", ")}`:`received value of type \`${c(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${i}.`)}},l={undefined:t=>p(c.undefined(t),"undefined",t),string:t=>p(c.string(t),"string",t),number:t=>p(c.number(t),"number",t),bigint:t=>p(c.bigint(t),"bigint",t),function_:t=>p(c.function_(t),"Function",t),null_:t=>p(c.null_(t),"null",t),class_:t=>p(c.class_(t),"Class",t),boolean:t=>p(c.boolean(t),"boolean",t),symbol:t=>p(c.symbol(t),"symbol",t),numericString:t=>p(c.numericString(t),"string with a number",t),array:(t,e)=>{p(c.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>p(c.buffer(t),"Buffer",t),blob:t=>p(c.blob(t),"Blob",t),nullOrUndefined:t=>p(c.nullOrUndefined(t),"null or undefined",t),object:t=>p(c.object(t),"Object",t),iterable:t=>p(c.iterable(t),"Iterable",t),asyncIterable:t=>p(c.asyncIterable(t),"AsyncIterable",t),generator:t=>p(c.generator(t),"Generator",t),asyncGenerator:t=>p(c.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>p(c.nativePromise(t),"native Promise",t),promise:t=>p(c.promise(t),"Promise",t),generatorFunction:t=>p(c.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>p(c.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>p(c.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>p(c.boundFunction(t),"Function",t),regExp:t=>p(c.regExp(t),"RegExp",t),date:t=>p(c.date(t),"Date",t),error:t=>p(c.error(t),"Error",t),map:t=>p(c.map(t),"Map",t),set:t=>p(c.set(t),"Set",t),weakMap:t=>p(c.weakMap(t),"WeakMap",t),weakSet:t=>p(c.weakSet(t),"WeakSet",t),weakRef:t=>p(c.weakRef(t),"WeakRef",t),int8Array:t=>p(c.int8Array(t),"Int8Array",t),uint8Array:t=>p(c.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>p(c.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>p(c.int16Array(t),"Int16Array",t),uint16Array:t=>p(c.uint16Array(t),"Uint16Array",t),int32Array:t=>p(c.int32Array(t),"Int32Array",t),uint32Array:t=>p(c.uint32Array(t),"Uint32Array",t),float32Array:t=>p(c.float32Array(t),"Float32Array",t),float64Array:t=>p(c.float64Array(t),"Float64Array",t),bigInt64Array:t=>p(c.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>p(c.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>p(c.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>p(c.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>p(c.dataView(t),"DataView",t),enumCase:(t,e)=>p(c.enumCase(t,e),"EnumCase",t),urlInstance:t=>p(c.urlInstance(t),"URL",t),urlString:t=>p(c.urlString(t),"string with a URL",t),truthy:t=>p(c.truthy(t),"truthy",t),falsy:t=>p(c.falsy(t),"falsy",t),nan:t=>p(c.nan(t),"NaN",t),primitive:t=>p(c.primitive(t),"primitive",t),integer:t=>p(c.integer(t),"integer",t),safeInteger:t=>p(c.safeInteger(t),"integer",t),plainObject:t=>p(c.plainObject(t),"plain object",t),typedArray:t=>p(c.typedArray(t),"TypedArray",t),arrayLike:t=>p(c.arrayLike(t),"array-like",t),domElement:t=>p(c.domElement(t),"HTMLElement",t),observable:t=>p(c.observable(t),"Observable",t),nodeStream:t=>p(c.nodeStream(t),"Node.js Stream",t),infinite:t=>p(c.infinite(t),"infinite number",t),emptyArray:t=>p(c.emptyArray(t),"empty array",t),nonEmptyArray:t=>p(c.nonEmptyArray(t),"non-empty array",t),emptyString:t=>p(c.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>p(c.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>p(c.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>p(c.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>p(c.emptyObject(t),"empty object",t),nonEmptyObject:t=>p(c.nonEmptyObject(t),"non-empty object",t),emptySet:t=>p(c.emptySet(t),"empty set",t),nonEmptySet:t=>p(c.nonEmptySet(t),"non-empty set",t),emptyMap:t=>p(c.emptyMap(t),"empty map",t),nonEmptyMap:t=>p(c.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>p(c.propertyKey(t),"PropertyKey",t),formData:t=>p(c.formData(t),"FormData",t),urlSearchParams:t=>p(c.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>p(c.evenInteger(t),"even integer",t),oddInteger:t=>p(c.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>p(c.directInstanceOf(t,e),"T",t),inRange:(t,e)=>p(c.inRange(t,e),"in range",t),any:(t,...e)=>p(c.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>p(c.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(c,{class:{value:c.class_},function:{value:c.function_},null:{value:c.null_}});Object.defineProperties(l,{class:{value:l.class_},function:{value:l.function_},null:{value:l.null_}});var h=c;var Fn=require("events");var ot=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},U=class{static fn(e){return(...r)=>new U((s,n,i)=>{r.push(i),e(...r).then(s,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,s)=>{this._reject=s;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},i=a=>{this._isPending=!1,s(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,i,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new ot(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(U.prototype,Promise.prototype);function di(t){return h.object(t)&&"_onResponse"in t}var R=class extends Error{constructor(e,r,s){var n;if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,di(s)?(Object.defineProperty(this,"request",{enumerable:!1,value:s}),Object.defineProperty(this,"response",{enumerable:!1,value:s.response}),this.options=s.options):this.options=s,this.timings=(n=this.request)==null?void 0:n.timings,h.string(r.stack)&&h.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,o=this.stack.slice(i).split(`
    `).reverse(),a=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
    `).reverse();for(;a.length>0&&a[0]===o[0];)o.shift();this.stack=`${this.stack.slice(0,i)}${o.reverse().join(`
    `)}${a.reverse().join(`
    `)}`}}},Re=class extends R{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},M=class extends R{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},ke=class extends R{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},ne=class extends R{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},Ae=class extends R{constructor(e,r,s){super(e.message,e,s),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},ie=class extends R{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},qe=class extends R{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},oe=class extends R{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}};var cr=L(require("process"),1),rt=require("buffer"),Un=require("stream"),st=require("url"),Oe=L(require("http"),1);var pr=require("events"),mr=require("util"),yr=L(lr(),1),pi=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=o=>{o.once(pr.errorMonitor,()=>{e.error=Date.now(),e.phases.total=e.error-e.start})};r(t);let s=()=>{e.abort=Date.now(),e.phases.total=e.abort-e.start};t.prependOnceListener("abort",s);let n=o=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,mr.types.isProxy(o))return;let a=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};o.prependOnceListener("lookup",a),(0,yr.default)(o,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(o.removeListener("lookup",a),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?n(t.socket):t.prependOnceListener("socket",n);let i=()=>{e.upload=Date.now(),e.phases.request=e.upload-(e.secureConnect??e.connect)};return t.writableFinished?i():t.prependOnceListener("finish",i),t.prependOnceListener("response",o=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,o.timings=e,r(o),o.prependOnceListener("end",()=>{t.off("abort",s),o.off("aborted",s),!e.phases.total&&(e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start)}),o.prependOnceListener("aborted",s)}),e},gr=pi;var ar=L(ss(),1),Bn=L(as(),1);var $n=L(us(),1);var fs="abcdefghijklmnopqrstuvwxyz0123456789";function ds(){let t=16,e="";for(;t--;)e+=fs[Math.random()*fs.length<<0];return e}var St=t=>String(t).replace(/\r|\n/g,(e,r,s)=>e==="\r"&&s[r+1]!==`
    `||e===`
    `&&s[r-1]!=="\r"?`\r
    `:e);var bo=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function Tt(t){if(bo(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}function ls(t,e){if(typeof e!="string")return t[e];for(let[r,s]of Object.entries(t))if(e.toLowerCase()===r.toLowerCase())return s}var ps=t=>new Proxy(t,{get:(e,r)=>ls(e,r),has:(e,r)=>ls(e,r)!==void 0});var N=t=>typeof t=="function";var Z=t=>Boolean(t&&N(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&N(t.append)&&N(t.getAll)&&N(t.entries)&&N(t[Symbol.iterator]));var Ct=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var W=t=>Boolean(t&&typeof t=="object"&&N(t.constructor)&&t[Symbol.toStringTag]==="File"&&N(t.stream)&&t.name!=null&&t.size!=null&&t.lastModified!=null);var he=function(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r},P=function(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)},ue,B,fe,Ue,de,G,le,pe,Be,Ot,ms,_o={enableAdditionalHeaders:!1},$e={writable:!1,configurable:!1},Fe=class{constructor(e,r,s){if(ue.add(this),B.set(this,`\r
    `),fe.set(this,void 0),Ue.set(this,void 0),de.set(this,"-".repeat(2)),G.set(this,new TextEncoder),le.set(this,void 0),pe.set(this,void 0),Be.set(this,void 0),!Z(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if(Tt(r)?s=r:n=r,n||(n=ds()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(s&&!Tt(s))throw new TypeError("Expected options argument to be an object.");he(this,pe,Array.from(e.entries()),"f"),he(this,Be,{..._o,...s},"f"),he(this,fe,P(this,G,"f").encode(P(this,B,"f")),"f"),he(this,Ue,P(this,fe,"f").byteLength,"f"),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,he(this,le,P(this,G,"f").encode(`${P(this,de,"f")}${this.boundary}${P(this,de,"f")}${P(this,B,"f").repeat(2)}`),"f"),this.contentLength=P(this,ue,"m",ms).call(this),this.headers=ps(Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength})),Object.defineProperties(this,{boundary:$e,contentType:$e,contentLength:$e,headers:$e})}getContentLength(){return Number(this.contentLength)}*values(){for(let[e,r]of P(this,pe,"f")){let s=W(r)?r:P(this,G,"f").encode(St(r));yield P(this,ue,"m",Ot).call(this,e,s),yield s,yield P(this,fe,"f")}yield P(this,le,"f")}async*encode(){for(let e of this.values())W(e)?yield*e.stream():yield e}[(B=new WeakMap,fe=new WeakMap,Ue=new WeakMap,de=new WeakMap,G=new WeakMap,le=new WeakMap,pe=new WeakMap,Be=new WeakMap,ue=new WeakSet,Ot=function(r,s){let n="";return n+=`${P(this,de,"f")}${this.boundary}${P(this,B,"f")}`,n+=`Content-Disposition: form-data; name="${Ct(r)}"`,W(s)&&(n+=`; filename="${Ct(s.name)}"${P(this,B,"f")}`,n+=`Content-Type: ${s.type||"application/octet-stream"}`),P(this,Be,"f").enableAdditionalHeaders===!0&&(n+=`${P(this,B,"f")}Content-Length: ${W(s)?s.size:s.byteLength}`),P(this,G,"f").encode(`${n}${P(this,B,"f").repeat(2)}`)},ms=function(){let r=0;for(let[s,n]of P(this,pe,"f")){let i=W(n)?n:P(this,G,"f").encode(St(n));r+=P(this,ue,"m",Ot).call(this,s,i).byteLength,r+=W(i)?i.size:i.byteLength,r+=P(this,Ue,"f")}return String(r+P(this,le,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};var ys=require("buffer"),gs=require("util");function me(t){return h.nodeStream(t)&&h.function_(t.getBoundary)}async function Pt(t,e){if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(h.string(t))return ys.Buffer.byteLength(t);if(h.buffer(t))return t.length;if(me(t))return(0,gs.promisify)(t.getLength.bind(t))()}function ye(t,e,r){let s={};for(let n of r){let i=(...o)=>{e.emit(n,...o)};s[n]=i,t.on(n,i)}return()=>{for(let[n,i]of Object.entries(s))t.off(n,i)}}var _s=L(require("net"),1);function Rt(){let t=[];return{once(e,r,s){e.once(r,s),t.push({origin:e,event:r,fn:s})},unhandleAll(){for(let e of t){let{origin:r,event:s,fn:n}=e;r.removeListener(s,n)}t.length=0}}}var bs=Symbol("reentry"),wo=()=>{},ge=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function kt(t,e,r){if(bs in t)return wo;t[bs]=!0;let s=[],{once:n,unhandleAll:i}=Rt(),o=(d,m,x)=>{var T;let C=setTimeout(m,d,d,x);(T=C.unref)==null||T.call(C);let w=()=>{clearTimeout(C)};return s.push(w),w},{host:a,hostname:u}=r,f=(d,m)=>{t.destroy(new ge(d,m))},y=()=>{for(let d of s)d();i()};if(t.once("error",d=>{if(y(),t.listenerCount("error")===0)throw d}),typeof e.request<"u"){let d=o(e.request,f,"request");n(t,"response",m=>{n(m,"end",d)})}if(typeof e.socket<"u"){let{socket:d}=e,m=()=>{f(d,"socket")};t.setTimeout(d,m),s.push(()=>{t.removeListener("timeout",m)})}let _=typeof e.lookup<"u",b=typeof e.connect<"u",g=typeof e.secureConnect<"u",S=typeof e.send<"u";return(_||b||g||S)&&n(t,"socket",d=>{let{socketPath:m}=t;if(d.connecting){let x=Boolean(m??_s.default.isIP(u??a??"")!==0);if(_&&!x&&typeof d.address().address>"u"){let C=o(e.lookup,f,"lookup");n(d,"lookup",C)}if(b){let C=()=>o(e.connect,f,"connect");x?n(d,"connect",C()):n(d,"lookup",w=>{w===null&&n(d,"connect",C())})}g&&r.protocol==="https:"&&n(d,"connect",()=>{let C=o(e.secureConnect,f,"secureConnect");n(d,"secureConnect",C)})}if(S){let x=()=>o(e.send,f,"send");d.connecting?n(d,"connect",()=>{n(t,"upload-complete",x())}):n(t,"upload-complete",x())}}),typeof e.response<"u"&&n(t,"upload-complete",()=>{let d=o(e.response,f,"response");n(t,"response",d)}),typeof e.read<"u"&&n(t,"response",d=>{let m=o(e.read,f,"read");n(d,"end",m)}),y}function At(t){t=t;let e={protocol:t.protocol,hostname:h.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return h.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}var be=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};var Eo=({attemptCount:t,retryOptions:e,error:r,retryAfter:s,computedValue:n})=>{if(r.name==="RetryError")return 1;if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),a=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!a)return 0;if(r.response){if(s)return s>n?0:s;if(r.response.statusCode===413)return 0}let u=Math.random()*e.noise;return Math.min(2**(t-1)*1e3,e.backoffLimit)+u},ws=Eo;var Hn=L(require("process"),1),Ce=require("util"),D=require("url"),Ln=require("tls"),In=L(require("http"),1),vn=L(require("https"),1);function Me(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLowerCase(),r]))}var Nn=L(Ps(),1),Dn=L(An(),1);function sr(t){let e=[],r=t.split(",");for(let s of r){let[n,...i]=s.split(";"),o=n.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),u={};if(i.length===0)throw new Error(`Unexpected end of Link header parameters: ${i.join(";")}`);for(let f of i){let y=f.trim(),_=y.indexOf("=");if(_===-1)throw new Error(`Failed to parse Link header: ${t}`);let b=y.slice(0,_).trim(),g=y.slice(_+1).trim();u[b]=g}e.push({reference:a,parameters:u})}return e}var[qn,Za]=Hn.default.versions.node.split(".").map(Number);function ec(t){for(let e in t){let r=t[e];l.any([h.string,h.number,h.boolean,h.null_,h.undefined],r)}}var tc=new Map,Ze,rc=()=>Ze||(Ze=new Nn.default,Ze),sc={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(t){return t.request.options.responseType==="json"?t.body:JSON.parse(t.body)},paginate({response:t}){let e=t.headers.link;if(typeof e!="string"||e.trim()==="")return!1;let s=sr(e).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return s?{url:new D.URL(s.reference,t.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},nc=t=>{let{hooks:e,retry:r}=t,s={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...e.init],beforeRequest:[...e.beforeRequest],beforeError:[...e.beforeError],beforeRedirect:[...e.beforeRedirect],beforeRetry:[...e.beforeRetry],afterResponse:[...e.afterResponse]},searchParams:t.searchParams?new D.URLSearchParams(t.searchParams):void 0,pagination:{...t.pagination}};return s.url!==void 0&&(s.prefixUrl=""),s},ic=t=>{let{hooks:e,retry:r}=t,s={...t};return h.object(t.context)&&(s.context={...t.context}),h.object(t.cacheOptions)&&(s.cacheOptions={...t.cacheOptions}),h.object(t.https)&&(s.https={...t.https}),h.object(t.cacheOptions)&&(s.cacheOptions={...s.cacheOptions}),h.object(t.agent)&&(s.agent={...t.agent}),h.object(t.headers)&&(s.headers={...t.headers}),h.object(r)&&(s.retry={...r},h.array(r.errorCodes)&&(s.retry.errorCodes=[...r.errorCodes]),h.array(r.methods)&&(s.retry.methods=[...r.methods]),h.array(r.statusCodes)&&(s.retry.statusCodes=[...r.statusCodes])),h.object(t.timeout)&&(s.timeout={...t.timeout}),h.object(e)&&(s.hooks={...e},h.array(e.init)&&(s.hooks.init=[...e.init]),h.array(e.beforeRequest)&&(s.hooks.beforeRequest=[...e.beforeRequest]),h.array(e.beforeError)&&(s.hooks.beforeError=[...e.beforeError]),h.array(e.beforeRedirect)&&(s.hooks.beforeRedirect=[...e.beforeRedirect]),h.array(e.beforeRetry)&&(s.hooks.beforeRetry=[...e.beforeRetry]),h.array(e.afterResponse)&&(s.hooks.afterResponse=[...e.afterResponse])),h.object(t.pagination)&&(s.pagination={...t.pagination}),s},oc=t=>{let e=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter(r=>typeof r=="number");if(e.length>0)return Math.min(...e)},jn=(t,e,r)=>{var n;let s=(n=t.hooks)==null?void 0:n.init;if(s)for(let i of s)i(e,r)},q=class{constructor(e,r,s){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),l.any([h.string,h.urlInstance,h.object,h.undefined],e),l.any([h.object,h.undefined],r),l.any([h.object,h.undefined],s),e instanceof q||r instanceof q)throw new TypeError("The defaults must be passed as the third argument");this._internals=nc((s==null?void 0:s._internals)??s??sc),this._init=[...(s==null?void 0:s._init)??[]],this._merging=!1,this._unixOptions=void 0;try{if(h.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if((r==null?void 0:r.url)!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(n){throw n.options=this,n}}merge(e){if(!!e){if(e instanceof q){for(let r of e._init)this.merge(r);return}e=ic(e),jn(this,e,this),jn(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let s in e)if(!(s==="mutableDefaults"||s==="handlers")&&s!=="url"){if(!(s in this))throw new Error(`Unexpected option: ${s}`);this[s]=e[s],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){l.any([h.function_,h.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){l.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);l.any([h.object,h.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){l.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){l.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);l.any([h.number,h.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(l.any([h.string,h.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){l.any([h.string,h.buffer,h.nodeStream,h.generator,h.asyncGenerator,Z,h.undefined],e),h.nodeStream(e)&&l.truthy(e.readable),e!==void 0&&(l.undefined(this._internals.form),l.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){l.any([h.plainObject,h.undefined],e),e!==void 0&&(l.undefined(this._internals.body),l.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(l.undefined(this._internals.body),l.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(l.any([h.string,h.urlInstance,h.undefined],e),e===void 0){this._internals.url=void 0;return}if(h.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,s=new D.URL(r);if(this._internals.url=s,decodeURI(r),s.protocol==="unix:"&&(s.href=`http://unix${s.pathname}${s.search}`),s.protocol!=="http:"&&s.protocol!=="https:"){let n=new Error(`Unsupported protocol: ${s.protocol}`);throw n.code="ERR_UNSUPPORTED_PROTOCOL",n}if(this._internals.username&&(s.username=this._internals.username,this._internals.username=""),this._internals.password&&(s.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(s.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),s.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let n=/(?<socketPath>.+?):(?<path>.+)/.exec(`${s.pathname}${s.search}`);if(n!=null&&n.groups){let{socketPath:i,path:o}=n.groups;this._unixOptions={socketPath:i,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(l.any([h.object,h.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:s}=e;l.function_(r),l.function_(s),r.length===4&&s.length===0?(r=(0,Ce.promisify)(r.bind(e)),s=(0,Ce.promisify)(s.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:s}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){l.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){l.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new D.URLSearchParams),this._internals.searchParams)}set searchParams(e){l.any([h.string,h.object,h.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let s=this.searchParams,n;if(h.string(e))n=new D.URLSearchParams(e);else if(e instanceof D.URLSearchParams)n=e;else{ec(e),n=new D.URLSearchParams;for(let i in e){let o=e[i];o===null?n.append(i,""):o===void 0?s.delete(i):n.append(i,o)}}if(this._merging){for(let i of n.keys())s.delete(i);for(let[i,o]of n)s.append(i,o)}else r?r.search=s.toString():this._internals.searchParams=s}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){l.any([h.function_,h.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){l.any([h.object,h.boolean,h.undefined],e),e===!0?this._internals.dnsCache=rc():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){l.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){l.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let s=r,i=e[s];if(l.any([h.array,h.undefined],i),i)for(let o of i)l.function_(o);if(this._merging)i&&this._internals.hooks[s].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){l.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){l.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){l.any([h.object,h.string,h.boolean,h.undefined],e),e===!0?this._internals.cache=tc:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){l.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){l.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.username=s:this._internals.username=s}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){l.string(e);let r=this._internals.url,s=encodeURIComponent(e);r?r.password=s:this._internals.password=s}get http2(){return this._internals.http2}set http2(e){l.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){l.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){l.plainObject(e),this._merging?Object.assign(this._internals.headers,Me(e)):this._internals.headers=Me(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){l.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){l.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){l.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(l.plainObject(e),l.any([h.function_,h.undefined],e.calculateDelay),l.any([h.number,h.undefined],e.maxRetryAfter),l.any([h.number,h.undefined],e.limit),l.any([h.array,h.undefined],e.methods),l.any([h.array,h.undefined],e.statusCodes),l.any([h.array,h.undefined],e.errorCodes),l.any([h.number,h.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let s in e)if(!(s in this._internals.retry))throw new Error(`Unexpected retry option: ${s}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(s=>s.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){l.any([h.string,h.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){l.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){l.any([h.function_,h.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){l.plainObject(e),l.any([h.boolean,h.undefined],e.shared),l.any([h.number,h.undefined],e.cacheHeuristic),l.any([h.number,h.undefined],e.immutableMinTimeToLive),l.any([h.boolean,h.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){l.plainObject(e),l.any([h.boolean,h.undefined],e.rejectUnauthorized),l.any([h.function_,h.undefined],e.checkServerIdentity),l.any([h.string,h.object,h.array,h.undefined],e.certificateAuthority),l.any([h.string,h.object,h.array,h.undefined],e.key),l.any([h.string,h.object,h.array,h.undefined],e.certificate),l.any([h.string,h.undefined],e.passphrase),l.any([h.string,h.buffer,h.array,h.undefined],e.pfx),l.any([h.array,h.undefined],e.alpnProtocols),l.any([h.string,h.undefined],e.ciphers),l.any([h.string,h.buffer,h.undefined],e.dhparam),l.any([h.string,h.undefined],e.signatureAlgorithms),l.any([h.string,h.undefined],e.minVersion),l.any([h.string,h.undefined],e.maxVersion),l.any([h.boolean,h.undefined],e.honorCipherOrder),l.any([h.number,h.undefined],e.tlsSessionLifetime),l.any([h.string,h.undefined],e.ecdhCurve),l.any([h.string,h.buffer,h.array,h.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");l.any([h.string,h.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){l.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){l.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){l.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){l.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){l.any([h.number,h.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){l.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,Ce.inspect)(this._internals,r)}createNativeRequestOptions(){var o;let e=this._internals,r=e.url,s;r.protocol==="https:"?s=e.http2?e.agent:e.agent.https:s=e.agent.http;let{https:n}=e,{pfx:i}=n;return h.array(i)&&h.plainObject(i[0])&&(i=i.map(a=>({buf:a.buffer,passphrase:a.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:n.alpnProtocols,ca:n.certificateAuthority,cert:n.certificate,key:n.key,passphrase:n.passphrase,pfx:n.pfx,rejectUnauthorized:n.rejectUnauthorized,checkServerIdentity:n.checkServerIdentity??Ln.checkServerIdentity,ciphers:n.ciphers,honorCipherOrder:n.honorCipherOrder,minVersion:n.minVersion,maxVersion:n.maxVersion,sigalgs:n.signatureAlgorithms,sessionTimeout:n.tlsSessionLifetime,dhparam:n.dhparam,ecdhCurve:n.ecdhCurve,crl:n.certificateRevocationLists,lookup:e.dnsLookup??((o=e.dnsCache)==null?void 0:o.lookup),family:e.dnsLookupIpVersion,agent:s,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?oc(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(!!e){if(e.protocol==="https:"){if(this._internals.http2){if(qn<15||qn===15&&Za<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return Dn.default.auto}return vn.default.request}return In.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes),Object.freeze(e.context),Object.freeze(e.signal)}};var re=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304},et=class extends R{constructor(e,r){let{options:s}=r.request;super(`${e.message} in "${s.url.toString()}"`,e,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},nr=(t,e,r,s)=>{let{rawBody:n}=t;try{if(e==="text")return n.toString(s);if(e==="json")return n.length===0?"":r(n.toString(s));if(e==="buffer")return n}catch(i){throw new et(i,t)}throw new et({message:`Unknown body type '${e}'`,name:"Error"},t)};function ac(t){return t.writable&&!t.writableEnded}var zn=ac;function tt(t){return t.protocol==="unix:"||t.hostname==="unix"}var cc=h.string(cr.default.versions.brotli),hc=new Set(["GET","HEAD"]),ir=new be,uc=new Set([300,301,302,303,304,307,308]),fc=["socket","connect","continue","information","upgrade"],or=()=>{},z=class extends Un.Duplex{constructor(e,r,s){var i,o;super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=or,this._triggerRead=!1,this._cancelTimeouts=or,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=or,this.on("pipe",a=>{a.headers&&Object.assign(this.options.headers,a.headers)}),this.on("newListener",a=>{if(a==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new q(e,r,s),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(a){let{options:u}=a;u&&(this.options=u),this.flush=async()=>{this.flush=async()=>{},this.destroy(a)};return}(i=this.options.signal)!=null&&i.aborted&&this.destroy(new oe(this)),(o=this.options.signal)==null||o.addEventListener("abort",()=>{this.destroy(new oe(this))});let{body:n}=this.options;h.nodeStream(n)&&n.once("error",a=>{this._flushed?this._beforeError(new ne(a,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new ne(a,this))}})}async flush(){var e;if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){(e=this._request)==null||e.destroy();return}for(let r of this._jobs)r();this._jobs.length=0,this._requestInitialized=!0}catch(r){this._beforeError(r)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:s}=this,n=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof R||(e=new R(e.message,e,this));let i=e;(async()=>{var o,a;if((r==null?void 0:r.readable)&&!r.rawBody&&!((a=(o=this._request)==null?void 0:o.socket)!=null&&a.destroyed)&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let u;try{let f;r&&"retry-after"in r.headers&&(f=Number(r.headers["retry-after"]),Number.isNaN(f)?(f=Date.parse(r.headers["retry-after"])-Date.now(),f<=0&&(f=1)):f*=1e3);let y=s.retry;u=await y.calculateDelay({attemptCount:n,retryOptions:y,error:i,retryAfter:f,computedValue:ws({attemptCount:n,retryOptions:y,error:i,retryAfter:f,computedValue:y.maxRetryAfter??s.timeout.request??Number.POSITIVE_INFINITY})})}catch(f){this._error(new R(f.message,f,this));return}if(u){if(await new Promise(f=>{let y=setTimeout(f,u);this._stopRetry=()=>{clearTimeout(y),f()}}),this.destroyed)return;try{for(let f of this.options.hooks.beforeRetry)await f(i,this.retryCount+1)}catch(f){this._error(new R(f.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,f=>{let y=new z(s.url,f,s);return y.retryCount=this.retryCount+1,cr.default.nextTick(()=>{y.flush()}),y});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let s=this.downloadProgress;s.percent<1&&this.emit("downloadProgress",s),this.push(r)}}}_write(e,r,s){let n=()=>{this._writeRequest(e,r,s)};this._requestInitialized?n():this._jobs.push(n)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(s=>{var n;(n=this._request._writableState)!=null&&n.errored||(s||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(s))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this.options){let{body:s}=this.options;h.nodeStream(s)&&s.destroy()}this._request&&this._request.destroy(),e!==null&&!h.undefined(e)&&!(e instanceof R)&&(e=new R(e.message,e,this)),r(e)}pipe(e,r){return e instanceof Oe.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof Oe.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:r}=e,s=!h.undefined(e.form),n=!h.undefined(e.json),i=!h.undefined(e.body),o=hc.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=o,s||n||i){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let a=!h.string(r["content-type"]);if(i){if(Z(e.body)){let f=new Fe(e.body);a&&(r["content-type"]=f.headers["Content-Type"]),r["content-length"]=f.headers["Content-Length"],e.body=f.encode()}me(e.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(s){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:f}=e;e.form=void 0,e.body=new st.URLSearchParams(f).toString()}else{a&&(r["content-type"]="application/json");let{json:f}=e;e.json=void 0,e.body=e.stringifyJson(f)}let u=await Pt(e.body,e.headers);h.undefined(r["content-length"])&&h.undefined(r["transfer-encoding"])&&!o&&!h.undefined(u)&&(r["content-length"]=String(u))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:s}=r;this._nativeResponse=e,r.decompress&&(e=(0,Bn.default)(e));let n=e.statusCode,i=e;i.statusMessage=i.statusMessage?i.statusMessage:Oe.default.STATUS_CODES[n],i.url=r.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,i.ok=re(i),this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{this._aborted=!0,e.destroy(),this._beforeError(new ie(a,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new ie({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(h.object(r.cookieJar)&&o){let a=o.map(async u=>r.cookieJar.setCookie(u,s.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>{try{await u}catch{}}));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&uc.has(n)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new Re(this));return}this._request=void 0;let a=new q(void 0,void 0,this.options);(n===303&&a.method!=="GET"&&a.method!=="HEAD"||a.methodRewriting)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let f=rt.Buffer.from(e.headers.location,"binary").toString(),y=new st.URL(f,s);if(!tt(s)&&tt(y)){this._beforeError(new R("Cannot redirect to UNIX socket",{},this));return}y.hostname!==s.hostname||y.port!==s.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(y.username=a.username,y.password=a.password),this.redirectUrls.push(y),a.prefixUrl="",a.url=y;for(let _ of a.hooks.beforeRedirect)await _(a,i);this.emit("redirect",a,i),this.options=a,await this._makeRequest()}catch(f){this._beforeError(f);return}return}if(r.isStream&&r.throwHttpErrors&&!re(i)){this._beforeError(new M(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let u in e.headers){let f=r.decompress?u!=="content-encoding":!0,y=e.headers[u];f&&a.setHeader(u,y)}a.statusCode=n}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,$n.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:s,url:n}=r;gr(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=kt(e,s,n);let i=r.cache?"cacheableResponse":"response";e.once(i,o=>{this._onResponse(o)}),e.once("error",o=>{this._aborted=!0,e.destroy(),o=o instanceof ge?new Ae(o,this.timings,this):new R(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=ye(e,this,fc),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,s)=>{super.write(e,n=>{if(n){s(n);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;h.nodeStream(e)?e.pipe(r):h.generator(e)||h.asyncGenerator(e)?(async()=>{try{for await(let s of e)await this._asyncWrite(s);super.end()}catch(s){this._beforeError(s)}})():h.undefined(e)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(e,void 0,()=>{}),r.end())}_prepareCache(e){ir.has(e)||ir.set(e,new ar.default((r,s)=>{let n=r._request(r,s);return h.promise(n)&&(n.once=(i,o)=>{if(i==="error")(async()=>{try{await n}catch(a){o(a)}})();else if(i==="abort")(async()=>{try{(await n).once("abort",o)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${i}`);return n}),n},e))}async _createCacheableRequest(e,r){return new Promise((s,n)=>{Object.assign(r,At(e));let i,o=ir.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,i){let u=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",u),u(),(await i).emit("cacheableResponse",a)}s(a)});o.once("error",n),o.once("request",async a=>{i=a,s(i)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:s,password:n}=e,i=e.cookieJar;for(let f in r)if(h.undefined(r[f]))delete r[f];else if(h.null_(r[f]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${f}\` header`);if(e.decompress&&h.undefined(r["accept-encoding"])&&(r["accept-encoding"]=cc?"gzip, deflate, br":"gzip, deflate"),s||n){let f=rt.Buffer.from(`${s}:${n}`).toString("base64");r.authorization=`Basic ${f}`}if(i){let f=await i.getCookieString(e.url.toString());h.nonEmptyString(f)&&(r.cookie=f)}e.prefixUrl="";let o;for(let f of e.hooks.beforeRequest){let y=await f(e);if(!h.undefined(y)){o=()=>y;break}}o||(o=e.getRequestFunction());let a=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._prepareCache(e.cache));let u=e.cache?this._createCacheableRequest:o;try{let f=u(a,this._requestOptions);h.promise(f)&&(f=await f),h.undefined(f)&&(f=e.getFallbackRequestFunction()(a,this._requestOptions),h.promise(f)&&(f=await f)),zn(f)?this._onRequest(f):this.writable?(this.once("finish",()=>{this._onResponse(f)}),this._sendBody()):this._onResponse(f)}catch(f){throw f instanceof ar.default.CacheError?new ke(f,this):f}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new R(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,s){!this._request||this._request.destroyed||this._request.write(e,r,n=>{if(!n){this._uploadedSize+=rt.Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}s(n)})}get ip(){var e;return(e=this.socket)==null?void 0:e.remoteAddress}get isAborted(){return this._aborted}get socket(){var e;return((e=this._request)==null?void 0:e.socket)??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){var e;return(e=this._request)==null?void 0:e.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){var e;return(e=this._request)==null?void 0:e.reusedSocket}};var nt=class extends R{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var dc=["request","response","redirect","uploadProgress","downloadProgress"];function it(t){let e,r,s,n=new Fn.EventEmitter,i=new U((a,u,f)=>{f(()=>{e.destroy()}),f.shouldReject=!1,f(()=>{u(new nt(e))});let y=_=>{var d;f(()=>{});let b=t??new z(void 0,void 0,s);b.retryCount=_,b._noPipe=!0,e=b,b.once("response",async m=>{let x=(m.headers["content-encoding"]??"").toLowerCase(),C=x==="gzip"||x==="deflate"||x==="br",{options:w}=b;if(C&&!w.decompress)m.body=m.rawBody;else try{m.body=nr(m,w.responseType,w.parseJson,w.encoding)}catch(T){if(m.body=m.rawBody.toString(),re(m)){b._beforeError(T);return}}try{let T=w.hooks.afterResponse;for(let[k,v]of T.entries())if(m=await v(m,async Q=>{throw w.merge(Q),w.prefixUrl="",Q.url&&(w.url=Q.url),w.hooks.afterResponse=w.hooks.afterResponse.slice(0,k),new qe(b)}),!(h.object(m)&&h.number(m.statusCode)&&!h.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(T){b._beforeError(T);return}if(r=m,!re(m)){b._beforeError(new M(m));return}b.destroy(),a(b.options.resolveBodyOnly?m.body:m)});let g=m=>{if(i.isCanceled)return;let{options:x}=b;if(m instanceof M&&!x.throwHttpErrors){let{response:C}=m;b.destroy(),a(b.options.resolveBodyOnly?C.body:C);return}u(m)};b.once("error",g);let S=(d=b.options)==null?void 0:d.body;b.once("retry",(m,x)=>{t=void 0;let C=b.options.body;if(S===C&&h.nodeStream(C)){x.message="Cannot retry with consumed body stream",g(x);return}s=b.options,y(m)}),ye(b,n,dc),h.undefined(t)&&b.flush()};y(0)});i.on=(a,u)=>(n.on(a,u),i);let o=a=>{let u=(async()=>{await i;let{options:f}=r.request;return nr(r,a,f.parseJson,f.encoding)})();return Object.defineProperties(u,Object.getOwnPropertyDescriptors(i)),u};return i.json=()=>{if(e.options){let{headers:a}=e.options;!e.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}var lc=async t=>new Promise(e=>{setTimeout(e,t)}),pc=t=>h.function_(t),mc=["get","post","put","patch","head","delete"],Mn=t=>{t={options:new q(void 0,void 0,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults},Object.defineProperty(t,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let e=(s,n,i=t.options)=>{let o=new z(s,n,i),a,u=_=>(o.options=_,o._noPipe=!_.isStream,o.flush(),_.isStream?o:(a||(a=it(o)),a)),f=0,y=_=>{let g=(t.handlers[f++]??u)(_,y);if(h.promise(g)&&!o.options.isStream&&(a||(a=it(o)),g!==a)){let S=Object.getOwnPropertyDescriptors(a);for(let d in S)d in g&&delete S[d];Object.defineProperties(g,S),g.cancel=a.cancel}return g};return y(o.options)};e.extend=(...s)=>{let n=new q(void 0,void 0,t.options),i=[...t.handlers],o;for(let a of s)pc(a)?(n.merge(a.defaults.options),i.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(n.merge(a),a.handlers&&i.push(...a.handlers),o=a.mutableDefaults);return Mn({options:n,handlers:i,mutableDefaults:Boolean(o)})};let r=async function*(s,n){let i=new q(s,n,t.options);i.resolveBodyOnly=!1;let{pagination:o}=i;l.function_(o.transform),l.function_(o.shouldContinue),l.function_(o.filter),l.function_(o.paginate),l.number(o.countLimit),l.number(o.requestLimit),l.number(o.backoff);let a=[],{countLimit:u}=o,f=0;for(;f<o.requestLimit;){f!==0&&await lc(o.backoff);let y=await e(void 0,void 0,i),_=await o.transform(y),b=[];l.array(_);for(let S of _)if(o.filter({item:S,currentItems:b,allItems:a})&&(!o.shouldContinue({item:S,currentItems:b,allItems:a})||(yield S,o.stackAllItems&&a.push(S),b.push(S),--u<=0)))return;let g=o.paginate({response:y,currentItems:b,allItems:a});if(g===!1)return;g===y.request.options?i=y.request.options:(i.merge(g),l.any([h.urlInstance,h.undefined],g.url),g.url!==void 0&&(i.prefixUrl="",i.url=g.url)),f++}};e.paginate=r,e.paginate.all=async(s,n)=>{let i=[];for await(let o of r(s,n))i.push(o);return i},e.paginate.each=r,e.stream=(s,n)=>e(s,{...n,isStream:!0});for(let s of mc)e[s]=(n,i)=>e(n,{...i,method:s}),e.stream[s]=(n,i)=>e(n,{...i,method:s,isStream:!0});return t.mutableDefaults||(Object.freeze(t.handlers),t.options.freeze()),Object.defineProperty(e,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!0}),e},Vn=Mn;var yc={options:new q,handlers:[],mutableDefaults:!1},gc=Vn(yc),Wn=gc;async function bc(){for(;;){let t=await Wn("https://zenquotes.io/api/random"),e=JSON.parse(t.body);console.log(e[0].q),await new Promise(r=>setTimeout(r,1e4))}}bc().catch(t=>{console.error(t),process.exit(1)});
metadata:
  labels:
    self-cleanup: edd1a4
  name: my-chart-nodescriptdeployment-code-c8355372
---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    wheatstalk.cdk8s-node-script/asset-hash: aa89cd07289a7ac086d90a426774513d47ac42ca177e92f4954fc63930746aa9
  labels:
    self-cleanup: edd1a4
  name: my-chart-nodescriptdeployment-deployment-c89345a2
spec:
  selector:
    matchLabels:
      wheatstalk.cdk8s-node-script/deployment: d92054654b443aa765e87fd546ab737c
  template:
    metadata:
      labels:
        wheatstalk.cdk8s-node-script/deployment: d92054654b443aa765e87fd546ab737c
    spec:
      containers:
        - args:
            - index.js
          image: wheatstalk/cdk8s-node-script:14
          name: script
          volumeMounts:
            - mountPath: /script
              name: bundled
          workingDir: /script
      volumes:
        - configMap:
            name: my-chart-nodescriptdeployment-code-c8355372
          name: bundled
---
apiVersion: v1
kind: ConfigMap
data:
  script.sh: kubectl delete $(kubectl api-resources --verbs=list --namespaced -o name | paste -s -d,) -l self-cleanup,self-cleanup!=edd1a4 || true
metadata:
  labels:
    self-cleanup: edd1a4
  name: self-cleanup-edd1a4
---
apiVersion: v1
kind: ServiceAccount
metadata:
  labels:
    self-cleanup: edd1a4
  name: self-cleanup-edd1a4
---
apiVersion: batch/v1
kind: Job
metadata:
  labels:
    self-cleanup: edd1a4
  name: self-cleanup-edd1a4
spec:
  template:
    spec:
      containers:
        - args:
            - /scripts/script.sh
          command:
            - bash
          image: bitnami/kubectl
          name: script
          volumeMounts:
            - mountPath: /scripts
              name: scripts
      restartPolicy: OnFailure
      serviceAccount: self-cleanup-edd1a4
      volumes:
        - configMap:
            name: self-cleanup-edd1a4
          name: scripts
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  labels:
    self-cleanup: edd1a4
  name: my-chart-selfcleanup-jobrole-c8423021
rules:
  - apiGroups:
      - "*"
    resources:
      - "*"
    verbs:
      - delete
      - list
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  labels:
    self-cleanup: edd1a4
  name: my-chart-selfcleanup-jobrolebinding-c8600db9
roleRef:
  apiGroup: ""
  kind: Role
  name: my-chart-selfcleanup-jobrole-c8423021
subjects:
  - apiGroup: ""
    kind: ServiceAccount
    name: self-cleanup-edd1a4
